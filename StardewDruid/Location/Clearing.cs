using StardewValley;
using StardewValley.Locations;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using xTile.Layers;
using xTile.Tiles;
using Microsoft.Xna.Framework;
using StardewModdingAPI;
using StardewValley.Buildings;
using System.Drawing;
using StardewValley.Objects;
using System.Runtime.Intrinsics.X86;
using StardewValley.GameData.Locations;
using Microsoft.Xna.Framework.Graphics;
using StardewValley.TerrainFeatures;
using System.Threading;
using System.Xml.Serialization;
using StardewDruid.Character;
using StardewDruid.Data;
using xTile.Dimensions;
using StardewValley.Extensions;
using StardewDruid.Monster;

namespace StardewDruid.Location
{

    public class Clearing : DruidLocation
    {

        public TerrainTile accessDoor;

        public bool accessOpen;

        public List<Location.TerrainTile> leafTiles = new();

        public Clearing() { }

        public Clearing(string Name)
            : base(Name) 
        {

        }

        public override void draw(SpriteBatch b)
        {
            
            base.draw(b);

            accessDoor.draw(b, this);

        }

        public override void drawAboveAlwaysFrontLayer(SpriteBatch b)
        {

            base.drawAboveAlwaysFrontLayer(b);

            foreach (TerrainTile tile in leafTiles)
            {

                float forceFade = 1f;

                Microsoft.Xna.Framework.Rectangle bounds = new((int)leafTiles[0].position.X - 64, (int)leafTiles[0].position.Y - 64, 768, 512);

                foreach (Farmer character in farmers)
                {

                    if (bounds.Contains(character.Position.X, character.Position.Y))
                    {

                        forceFade = leafTiles[0].fadeout;

                    }

                }

                if (forceFade >= 1f)
                {

                    foreach (NPC character in characters)
                    {

                        if (bounds.Contains(character.Position.X, character.Position.Y))
                        {

                            forceFade = leafTiles[0].fadeout;
                        }

                    }

                }

                tile.draw(b, this, forceFade);

            }

        }

        public override void OnMapLoad(xTile.Map map)
        {


            xTile.Dimensions.Size tileSize = map.GetLayer("Back").TileSize;

            xTile.Map newMap = new(map.Id);

            Layer back = new("Back", newMap, new(56, 36), tileSize);

            newMap.AddLayer(back);

            Layer buildings = new("Buildings", newMap, new(56, 36), tileSize);

            newMap.AddLayer(buildings);

            Layer front = new("Front", newMap, new(56, 36), tileSize);

            newMap.AddLayer(front);

            Layer alwaysfront = new("AlwaysFront", newMap, new(56, 36), tileSize);

            newMap.AddLayer(alwaysfront);

            TileSheet outdoor = new(LocationData.druid_grove_name+"_outdoors", newMap, "Maps\\spring_outdoorsTileSheet", new(25,79), tileSize);
            
            newMap.AddTileSheet(outdoor); //map.TileSheets[1].ImageSource

            TileSheet gatesheet = new(
                newMap,
                "StardewDruid.Tilesheets.graveyard",
                new(
                    Mod.instance.iconData.sheetTextures[IconData.tilesheets.graveyard].Width / 16,
                    Mod.instance.iconData.sheetTextures[IconData.tilesheets.graveyard].Height / 16
                ),
                new(16, 16)
            );

            newMap.AddTileSheet(gatesheet);

            IsOutdoors = true;

            ignoreOutdoorLighting.Set(false);

            // -----------------------------------------------------
            // normal ground

            Dictionary<int, List<List<int>>> groundCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [3] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [4] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, },
                [5] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, },
                [6] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 357 }, new() { 16, 405 }, new() { 17, 405 }, new() { 18, 405 }, new() { 19, 405 }, new() { 20, 405 }, new() { 21, 405 }, new() { 22, 405 }, new() { 23, 405 }, new() { 24, 405 }, new() { 25, 405 }, new() { 26, 406 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 404 }, new() { 30, 405 }, new() { 31, 405 }, new() { 32, 405 }, new() { 33, 405 }, new() { 34, 405 }, new() { 35, 405 }, new() { 36, 405 }, new() { 37, 405 }, new() { 38, 407 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, },
                [7] = new() { new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 357 }, new() { 15, 406 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 404 }, new() { 39, 407 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, },
                [8] = new() { new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 357 }, new() { 14, 406 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 305 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 304 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 404 }, new() { 40, 405 }, new() { 41, 407 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, },
                [9] = new() { new() { 9, 380 }, new() { 10, 357 }, new() { 11, 405 }, new() { 12, 405 }, new() { 13, 406 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 304 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 404 }, new() { 42, 405 }, new() { 43, 407 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, },
                [10] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 381 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 353 }, new() { 27, 376 }, new() { 28, 376 }, new() { 29, 376 }, new() { 30, 376 }, new() { 31, 403 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 379 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, },
                [11] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 381 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 353 }, new() { 26, 377 }, new() { 27, 175 }, new() { 28, 151 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 375 }, new() { 32, 403 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 304 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 404 }, new() { 44, 407 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, },
                [12] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 381 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 353 }, new() { 25, 377 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 350 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 404 }, new() { 45, 405 }, new() { 46, 407 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, },
                [13] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 357 }, new() { 10, 406 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 300 }, new() { 20, 351 }, new() { 21, 353 }, new() { 22, 376 }, new() { 23, 376 }, new() { 24, 377 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 255 }, new() { 32, 375 }, new() { 33, 376 }, new() { 34, 376 }, new() { 35, 403 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, },
                [14] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 300 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 352 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 150 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 350 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 300 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 404 }, new() { 47, 407 }, new() { 48, 380 }, new() { 49, 380 }, },
                [15] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 300 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 353 }, new() { 21, 377 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 151 }, new() { 30, 151 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 375 }, new() { 36, 376 }, new() { 37, 403 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 351 }, new() { 47, 379 }, new() { 48, 380 }, new() { 49, 380 }, },
                [16] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 377 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 350 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 351 }, new() { 47, 379 }, new() { 48, 380 }, new() { 49, 380 }, },
                [17] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 352 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 255 }, new() { 36, 175 }, new() { 37, 350 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 351 }, new() { 47, 379 }, new() { 48, 380 }, new() { 49, 380 }, },
                [18] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 352 }, new() { 21, 175 }, new() { 22, 150 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 350 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 351 }, new() { 47, 379 }, new() { 48, 380 }, new() { 49, 380 }, },
                [19] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 352 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 325 }, new() { 36, 326 }, new() { 37, 328 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 304 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 351 }, new() { 47, 379 }, new() { 48, 380 }, new() { 49, 380 }, },
                [20] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 382 }, new() { 10, 356 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 304 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 378 }, new() { 21, 326 }, new() { 22, 327 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 255 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 350 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 354 }, new() { 47, 332 }, new() { 48, 380 }, new() { 49, 380 }, },
                [21] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 381 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 378 }, new() { 23, 327 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 350 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, },
                [22] = new() { new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 381 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 378 }, new() { 24, 327 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 325 }, new() { 34, 326 }, new() { 35, 328 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 305 }, new() { 46, 379 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, },
                [23] = new() { new() { 9, 380 }, new() { 10, 381 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 378 }, new() { 25, 327 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 350 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 354 }, new() { 45, 355 }, new() { 46, 332 }, },
                [24] = new() { new() { 9, 380 }, new() { 10, 382 }, new() { 11, 355 }, new() { 12, 356 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 378 }, new() { 26, 326 }, new() { 27, 326 }, new() { 28, 326 }, new() { 29, 326 }, new() { 30, 326 }, new() { 31, 326 }, new() { 32, 326 }, new() { 33, 328 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 379 }, new() { 45, 380 }, new() { 46, 380 }, },
                [25] = new() { new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 382 }, new() { 13, 356 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 300 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 300 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 354 }, new() { 44, 332 }, new() { 45, 380 }, new() { 46, 380 }, },
                [26] = new() { new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 379 }, },
                [27] = new() { new() { 12, 380 }, new() { 13, 382 }, new() { 14, 355 }, new() { 15, 356 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 354 }, new() { 42, 355 }, new() { 43, 332 }, },
                [28] = new() { new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 382 }, new() { 16, 356 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 305 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 354 }, new() { 41, 332 }, new() { 42, 380 }, new() { 43, 380 }, },
                [29] = new() { new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 382 }, new() { 17, 356 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 300 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, },
                [30] = new() { new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 382 }, new() { 18, 355 }, new() { 19, 355 }, new() { 20, 355 }, new() { 21, 355 }, new() { 22, 355 }, new() { 23, 355 }, new() { 24, 355 }, new() { 25, 356 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 354 }, new() { 30, 355 }, new() { 31, 355 }, new() { 32, 355 }, new() { 33, 355 }, new() { 34, 355 }, new() { 35, 355 }, new() { 36, 355 }, new() { 37, 355 }, new() { 38, 355 }, new() { 39, 355 }, new() { 40, 332 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, },
                [31] = new() { new() { 26, 356 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [32] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [33] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [34] = new() { },
                [35] = new() { },


            };

            foreach (KeyValuePair<int, List<List<int>>> groundCode in groundCodes)
            {

                foreach (List<int> groundArray in groundCode.Value)
                {

                    back.Tiles[groundArray[0], groundCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, groundArray[1]);

                }

            }

            Dictionary<int, List<List<int>>> typeCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [3] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [4] = new() { new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [5] = new() { new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [6] = new() { new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [7] = new() { new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, },
                [8] = new() { new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, },
                [9] = new() { new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, },
                [10] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [11] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [12] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [13] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [14] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [15] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [16] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [17] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [18] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [19] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [20] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [21] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [22] = new() { new() { 6, 1 }, new() { 7, 1 }, new() { 8, 1 }, new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, new() { 47, 1 }, new() { 48, 1 }, new() { 49, 1 }, },
                [23] = new() { new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, },
                [24] = new() { new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, },
                [25] = new() { new() { 9, 1 }, new() { 10, 1 }, new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, new() { 45, 1 }, new() { 46, 1 }, },
                [26] = new() { new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, },
                [27] = new() { new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, },
                [28] = new() { new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, },
                [29] = new() { new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, },
                [30] = new() { new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, },
                [31] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [32] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [33] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [34] = new() { },
                [35] = new() { },


            };

            foreach (KeyValuePair<int, List<List<int>>> typeCode in typeCodes)
            {

                foreach (List<int> typeArray in typeCode.Value)
                {

                    back.Tiles[typeArray[0], typeCode.Key].TileIndexProperties.Add("Type", typeArray[1] == 1 ? "Grass" : "Dirt");
                }

            }

            // ------------------------------------------------------
            // building

            Dictionary<int, List<List<int>>> borderCodes = new()
            {
                [0] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [1] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [2] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [3] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [4] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [5] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [6] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [7] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [8] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [9] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [10] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [11] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [12] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [13] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [14] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [15] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [16] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [17] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [18] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [19] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [20] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [21] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [22] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [23] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [24] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [25] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [26] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [27] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [28] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [29] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [30] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [31] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [32] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [33] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [34] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [35] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },


            };

            foreach (KeyValuePair<int, List<List<int>>> borderCode in borderCodes)
            {

                foreach (List<int> borderArray in borderCode.Value)
                {

                    buildings.Tiles[borderArray[0], borderCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, borderArray[1]);

                }

            }

            // ------------------------------------------------------
            // terrain adjustments

            Dictionary<int, List<List<int>>> codes = new()
            {
                [0] = new() { new() { 5, 232 }, new() { 14, 117 }, new() { 20, 257 }, new() { 24, 307 }, new() { 34, 257 }, new() { 43, 232 }, new() { 48, 282 }, new() { 55, 307 }, },
                [1] = new() { },
                [2] = new() { new() { 1, 257 }, new() { 10, 307 }, new() { 44, 232 }, new() { 51, 282 }, },
                [3] = new() { },
                [4] = new() { new() { 49, 307 }, new() { 53, 232 }, },
                [5] = new() { new() { 4, 232 }, },
                [6] = new() { new() { 6, 282 }, new() { 48, 282 }, },
                [7] = new() { },
                [8] = new() { new() { 52, 282 }, },
                [9] = new() { },
                [10] = new() { },
                [11] = new() { new() { 54, 232 }, },
                [12] = new() { new() { 1, 307 }, new() { 51, 307 }, },
                [13] = new() { new() { 4, 282 }, },
                [14] = new() { },
                [15] = new() { },
                [16] = new() { new() { 1, 232 }, },
                [17] = new() { new() { 54, 307 }, },
                [18] = new() { },
                [19] = new() { new() { 52, 232 }, },
                [20] = new() { new() { 3, 307 }, },
                [21] = new() { },
                [22] = new() { new() { 54, 257 }, },
                [23] = new() { new() { 1, 282 }, },
                [24] = new() { },
                [25] = new() { new() { 3, 257 }, new() { 51, 282 }, },
                [26] = new() { },
                [27] = new() { new() { 1, 307 }, new() { 6, 307 }, new() { 50, 232 }, },
                [28] = new() { },
                [29] = new() { new() { 10, 282 }, new() { 47, 307 }, new() { 52, 232 }, },
                [30] = new() { new() { 52, 257 }, },
                [31] = new() { new() { 7, 232 }, new() { 21, 232 }, new() { 46, 282 }, },
                [32] = new() { new() { 14, 307 }, new() { 35, 232 }, new() { 41, 282 }, new() { 55, 282 }, },
                [33] = new() { new() { 2, 232 }, },
                [34] = new() { new() { 10, 307 }, new() { 19, 232 }, new() { 39, 117 }, new() { 46, 232 }, },
                [35] = new() { new() { 1, 307 }, new() { 6, 257 }, new() { 23, 282 }, new() { 34, 232 }, new() { 43, 257 }, new() { 50, 307 }, },



            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> codeArray in code.Value)
                {
                    
                    back.Tiles[codeArray[0], code.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, buildings.Tiles[codeArray[0], code.Key].TileIndex);

                    buildings.Tiles[codeArray[0], code.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, codeArray[1]);

                }

            }

            codes = new()
            {
                [0] = new() { new() { 0, 10 }, new() { 12, 9 }, new() { 23, 10 }, new() { 25, 16 }, new() { 30, 16 }, new() { 31, 9 }, new() { 35, 10 }, new() { 41, 9 }, new() { 44, 10 }, new() { 54, 10 }, },
                [1] = new() { new() { 25, 16 }, new() { 30, 16 }, },
                [2] = new() { new() { 3, 10 }, new() { 13, 13 }, new() { 14, 14 }, new() { 15, 14 }, new() { 16, 14 }, new() { 17, 14 }, new() { 18, 14 }, new() { 19, 14 }, new() { 20, 14 }, new() { 21, 14 }, new() { 22, 14 }, new() { 23, 14 }, new() { 24, 14 }, new() { 25, 15 }, new() { 30, 13 }, new() { 31, 14 }, new() { 32, 14 }, new() { 33, 14 }, new() { 34, 14 }, new() { 35, 14 }, new() { 36, 14 }, new() { 37, 14 }, new() { 38, 14 }, new() { 39, 14 }, new() { 40, 14 }, new() { 41, 15 }, },
                [3] = new() { new() { 9, 9 }, new() { 13, 16 }, new() { 41, 16 }, new() { 43, 9 }, new() { 51, 9 }, },
                [4] = new() { new() { 6, 10 }, new() { 13, 16 }, new() { 41, 16 }, new() { 47, 10 }, },
                [5] = new() { new() { 2, 9 }, new() { 8, 13 }, new() { 9, 14 }, new() { 10, 14 }, new() { 11, 14 }, new() { 12, 14 }, new() { 13, 15 }, new() { 41, 13 }, new() { 42, 14 }, new() { 43, 14 }, new() { 44, 14 }, new() { 45, 14 }, new() { 46, 15 }, },
                [6] = new() { new() { 5, 9 }, new() { 8, 16 }, new() { 46, 16 }, new() { 48, 9 }, },
                [7] = new() { new() { 8, 16 }, new() { 46, 16 }, },
                [8] = new() { new() { 5, 13 }, new() { 6, 14 }, new() { 7, 14 }, new() { 8, 15 }, new() { 46, 13 }, new() { 47, 14 }, new() { 48, 14 }, new() { 49, 14 }, new() { 50, 15 }, },
                [9] = new() { new() { 0, 10 }, new() { 5, 16 }, new() { 50, 16 }, new() { 51, 9 }, },
                [10] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [11] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [12] = new() { new() { 3, 10 }, new() { 5, 16 }, new() { 50, 16 }, },
                [13] = new() { new() { 5, 16 }, new() { 50, 16 }, new() { 51, 10 }, },
                [14] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [15] = new() { new() { 0, 10 }, new() { 5, 16 }, new() { 50, 16 }, new() { 54, 10 }, },
                [16] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [17] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [18] = new() { new() { 3, 10 }, new() { 5, 16 }, new() { 50, 16 }, },
                [19] = new() { new() { 5, 16 }, new() { 50, 16 }, new() { 51, 9 }, },
                [20] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [21] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [22] = new() { new() { 5, 16 }, new() { 50, 16 }, },
                [23] = new() { new() { 3, 10 }, new() { 5, 13 }, new() { 6, 14 }, new() { 7, 14 }, new() { 8, 15 }, new() { 47, 13 }, new() { 48, 14 }, new() { 49, 14 }, new() { 50, 15 }, new() { 51, 10 }, },
                [24] = new() { new() { 5, 9 }, new() { 8, 16 }, new() { 47, 16 }, new() { 48, 10 }, },
                [25] = new() { new() { 8, 16 }, new() { 47, 16 }, },
                [26] = new() { new() { 6, 10 }, new() { 8, 13 }, new() { 9, 14 }, new() { 10, 14 }, new() { 11, 15 }, new() { 44, 13 }, new() { 45, 14 }, new() { 46, 14 }, new() { 47, 15 }, new() { 51, 9 }, },
                [27] = new() { new() { 8, 9 }, new() { 11, 16 }, new() { 44, 16 }, new() { 45, 9 }, },
                [28] = new() { new() { 11, 16 }, new() { 44, 16 }, },
                [29] = new() { new() { 1, 9 }, new() { 8, 10 }, new() { 11, 16 }, new() { 44, 16 }, new() { 45, 10 }, },
                [30] = new() { new() { 11, 13 }, new() { 12, 14 }, new() { 13, 14 }, new() { 14, 14 }, new() { 15, 14 }, new() { 16, 14 }, new() { 17, 14 }, new() { 18, 14 }, new() { 19, 14 }, new() { 20, 14 }, new() { 21, 14 }, new() { 22, 14 }, new() { 23, 14 }, new() { 24, 14 }, new() { 25, 15 }, new() { 30, 13 }, new() { 31, 14 }, new() { 32, 14 }, new() { 33, 14 }, new() { 34, 14 }, new() { 35, 14 }, new() { 36, 14 }, new() { 37, 14 }, new() { 38, 14 }, new() { 39, 14 }, new() { 40, 14 }, new() { 41, 14 }, new() { 42, 14 }, new() { 43, 14 }, new() { 44, 15 }, },
                [31] = new() { new() { 15, 10 }, new() { 19, 9 }, new() { 25, 16 }, new() { 30, 16 }, new() { 34, 9 }, new() { 37, 10 }, new() { 40, 9 }, new() { 43, 9 }, new() { 53, 9 }, },
                [32] = new() { new() { 25, 16 }, new() { 30, 16 }, },
                [33] = new() { new() { 11, 9 }, new() { 25, 16 }, new() { 30, 16 }, },
                [34] = new() { new() { 25, 17 }, new() { 30, 17 }, new() { 54, 10 }, },
                [35] = new() { },



            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    TerrainTile tTile = new(IconData.tilesheets.outdoors, array[1], new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.offset);

                    foreach (Vector2 bottom in tTile.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);

                        }

                    }

                    terrainTiles.Add(tTile);

                }

            }

            codes = new()
            {
                [0] = new() { new() { 3, 8 }, new() { 9, 2 }, new() { 17, 4 }, new() { 21, 2 }, new() { 33, 2 }, new() { 37, 8 }, new() { 40, 4 }, new() { 47, 8 }, new() { 48, 1 }, new() { 51, 4 }, },
                [1] = new() { new() { 5, 1 }, },
                [2] = new() { new() { 53, 1 }, },
                [3] = new() { new() { 1, 3 }, new() { 20, 11 }, },
                [4] = new() { new() { 14, 11 }, new() { 49, 2 }, new() { 50, 7 }, },
                [5] = new() { new() { 6, 2 }, },
                [6] = new() { new() { 54, 2 }, },
                [7] = new() { new() { 2, 4 }, new() { 22, 12 }, new() { 40, 11 }, new() { 54, 3 }, },
                [8] = new() { new() { 16, 12 }, new() { 35, 11 }, new() { 51, 8 }, },
                [9] = new() { },
                [10] = new() { },
                [11] = new() { new() { 42, 12 }, new() { 55, 4 }, },
                [12] = new() { new() { 1, 1 }, new() { 37, 12 }, new() { 52, 1 }, },
                [13] = new() { new() { 43, 11 }, },
                [14] = new() { },
                [15] = new() { new() { 2, 7 }, },
                [16] = new() { new() { 2, 2 }, new() { 53, 2 }, },
                [17] = new() { new() { 9, 11 }, new() { 45, 12 }, new() { 52, 3 }, },
                [18] = new() { },
                [19] = new() { new() { 3, 8 }, },
                [20] = new() { new() { 0, 7 }, new() { 54, 3 }, },
                [21] = new() { new() { 11, 12 }, new() { 21, 11 }, new() { 37, 11 }, new() { 53, 4 }, },
                [22] = new() { new() { 30, 11 }, },
                [23] = new() { },
                [24] = new() { new() { 1, 8 }, new() { 55, 4 }, },
                [25] = new() { new() { 2, 1 }, new() { 23, 12 }, new() { 39, 12 }, new() { 54, 1 }, },
                [26] = new() { new() { 32, 12 }, },
                [27] = new() { new() { 50, 3 }, },
                [28] = new() { new() { 4, 3 }, },
                [29] = new() { new() { 3, 2 }, new() { 55, 2 }, },
                [30] = new() { new() { 3, 7 }, new() { 48, 1 }, new() { 51, 7 }, },
                [31] = new() { new() { 0, 3 }, new() { 51, 4 }, },
                [32] = new() { new() { 5, 4 }, new() { 7, 1 }, new() { 13, 7 }, new() { 21, 7 }, new() { 31, 1 }, new() { 38, 7 }, new() { 42, 3 }, new() { 46, 7 }, },
                [33] = new() { new() { 16, 3 }, new() { 35, 3 }, },
                [34] = new() { new() { 4, 8 }, new() { 49, 2 }, new() { 52, 8 }, },
                [35] = new() { new() { 1, 4 }, },


            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    TerrainTile tTile = new(IconData.tilesheets.outdoors, array[1], new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.leafy, array[0] > 27);

                    foreach (Vector2 bottom in tTile.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);

                        }

                    }

                    terrainTiles.Add(tTile);

                }

            }

            codes = new()
            {

                [3] = new() { new() { 31, 1 }, },

                [8] = new() { new() { 33, 2 }, },

                [14] = new() { new() { 37, 1 }, },

                [19] = new() { new() { 39, 2 }, },

                [21] = new() { new() { 14, 1 }, },

                [26] = new() { new() { 15, 2 }, },


            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    TerrainTile tTile = new(IconData.tilesheets.outdoorsTwo, array[1], new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.leafy, array[0] > 27);

                    foreach (Vector2 bottom in tTile.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);

                        }

                    }

                    terrainTiles.Add(tTile);

                }

            }

            codes = new()
            {
                
                [8] = new() { new() { 46, 2 }, },

            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    accessDoor = new(IconData.tilesheets.engineum, 2, new Vector2(46, 9) * 64);

                    foreach (Vector2 bottom in accessDoor.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);

                        }

                    }

                }

            }


            codes = new()
            {

                [7] = new() { new() { 9, 1 }, },

                [15] = new() { new() { 13, 2 }, },


            };

            if (Mod.instance.iconData.sheetTextures.ContainsKey(IconData.tilesheets.magnolia))
            {

                foreach (KeyValuePair<int, List<List<int>>> code in codes)
                {

                    foreach (List<int> array in code.Value)
                    {

                        TerrainTile tTile = new(IconData.tilesheets.magnolia, array[1], new Vector2(array[0], code.Key) * 64,TerrainTile.shadows.offset,true);

                        foreach (Vector2 bottom in tTile.baseTiles)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, outdoor, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);


                        }

                        if (array[1] == 1)
                        {

                            frontTiles.Add(tTile);

                        }
                        else
                        {

                            terrainTiles.Add(tTile);


                        }

                    }

                }

            }

            Vector2 foliageCenter = new Vector2(14, 11) * 64;

            Dictionary<int, List<Vector2>> foliageSpots = new()
            {


                [0] = new() {
                    // tier 1
                    new Vector2(-276f, -256f),
                    new Vector2(-164f, -284f),
                    new Vector2(-52f, -296f),
                    new Vector2(52f, -296f),
                    new Vector2(164f, -284f),
                    new Vector2(276f, -256f),
                 },

                [1] = new() {
                    // tier 1
                    new Vector2(-336f, -196f),
                    new Vector2(-228f, -212f),
                    new Vector2(-116f, -232f),
                    new Vector2(0f, -244f),
                    new Vector2(116f, -232f),
                    new Vector2(228f, -212f),
                    new Vector2(336f, -196f),
                 },
                [2] = new() {
                    // tier 2
                    new Vector2(-396f, -152f),
                    new Vector2(-284f, -160f),
                    new Vector2(-164f, -172f),
                    new Vector2(-52f, -184f),
                    new Vector2(52f, -184f),
                    new Vector2(164f, -172f),
                    new Vector2(284f, -160f),
                    new Vector2(396f, -152f),
                },
                [3] = new() {
                    // tier 3
                    new Vector2(-428f, -88f),
                    new Vector2(-328f, -96f),
                    new Vector2(-216f, -108f),
                    new Vector2(-108f, -116f),
                    new Vector2(0f, -124f),
                    new Vector2(108f, -116f),
                    new Vector2(216f, -108f),
                    new Vector2(328f, -96f),
                    new Vector2(428f, -88f),
                },
                [4] = new() {
                    // tier 4
                    new Vector2(-480f, -40f),
                    new Vector2(-372f, -40f),
                    new Vector2(-264f, -44f),
                    new Vector2(-160f, -48f),
                    new Vector2(-52f, -52f),
                    new Vector2(52f, -52f),
                    new Vector2(160f, -48f),
                    new Vector2(264f, -44f),
                    new Vector2(372f, -40f),
                    new Vector2(480f, -40f),
                },
                [5] = new() {
                    // tier 5
                    new Vector2(-432f, 0f),
                    new Vector2(-324f, 4f),
                    new Vector2(-220f, 8f),
                    new Vector2(-116f, 12f),
                    new Vector2(-0f, 16f),
                    new Vector2(116f, 12f),
                    new Vector2(220f, 8f),
                    new Vector2(324f, 4f),
                    new Vector2(432f, 0f),
                },
                [6] = new() {
                    // tier 6
                    new Vector2(-476f, 56f),
                    new Vector2(-376f, 60f),
                    new Vector2(-268f, 68f),
                    new Vector2(-164f, 76f),
                    new Vector2(-48f, 84f),
                    new Vector2(48f, 84f),
                    new Vector2(164f, 76f),
                    new Vector2(268f, 68f),
                    new Vector2(376f, 60f),
                    new Vector2(476f, 56f),
                },
                [7] = new() {
                    // tier 7
                    new Vector2(-432f, 120f),
                    new Vector2(-332f, 128f),
                    new Vector2(-224f, 136f),
                    new Vector2(-120f, 148f),
                    new Vector2(0f, 160f),
                    new Vector2(104f, 148f),
                    new Vector2(220f, 136f),
                    new Vector2(316f, 128f),
                    new Vector2(412f, 120f),
                },
                [8] = new() {
                    // tier 8
                    new Vector2(-376f, 188f),
                    new Vector2(-268f, 200f),
                    new Vector2(-164f, 212f),
                    new Vector2(-48f, 228f),
                    new Vector2(48f, 228f),
                    new Vector2(164f, 212f),
                    new Vector2(268f, 200f),
                    new Vector2(376f, 188f),
                },
            };

            foreach (KeyValuePair<int, List<Vector2>> foliageTiers in foliageSpots)
            {

                int foliageLimit = foliageTiers.Value.Count;

                for (int i = 0; i < foliageLimit; i++)
                {

                    Vector2 foliageSpot = foliageTiers.Value.ElementAt(i);

                    Vector2 foliagePosition = foliageCenter + foliageSpot;

                    int smash = Mod.instance.randomIndex.Next(3, 39);

                    if (smash > 26)
                    {

                        smash -= 24;

                    }

                    TerrainTile tTile = new(IconData.tilesheets.magnolia, smash, foliagePosition);

                    int offColor = foliageTiers.Key * 6;

                    if (i > 0 && i < foliageLimit - 1)
                    {

                        offColor -= 6;

                    }
                    if (i > 1 && i < foliageLimit - 2)
                    {

                        offColor -= 6;

                    }

                    if (offColor < 0)
                    {

                        offColor = 0;

                    }

                    tTile.color = new(256 - offColor * 2, 256 - offColor, 256);

                    if (i == 0 || i == (foliageLimit - 1) || foliageTiers.Key == 8)
                    {

                        tTile.shadow = TerrainTile.shadows.none;

                    }
                    else
                    {

                        tTile.shadow = TerrainTile.shadows.dropset;

                        tTile.shade = 0.1f;

                    }

                    tTile.flip = Mod.instance.randomIndex.NextBool();

                    leafTiles.Add(tTile);

                }

            }

            /*
            codes = new()
            {
                [0] = new() { },
                [1] = new() { new() { 5, 1 }, new() { 6, 5 }, new() { 10, 2 }, new() { 11, 5 }, new() { 15, 2 }, new() { 16, 5 }, new() { 20, 2 }, new() { 21, 5 }, new() { 25, 7 }, new() { 31, 5 }, new() { 35, 2 }, new() { 36, 5 }, new() { 40, 2 }, new() { 41, 5 }, new() { 45, 2 }, new() { 46, 5 }, new() { 50, 3 }, },
                [2] = new() { new() { 5, 6 }, new() { 50, 6 }, },
                [3] = new() { },
                [4] = new() { },
                [5] = new() { new() { 8, 18 }, new() { 46, 17 }, },
                [6] = new() { new() { 5, 4 }, new() { 50, 4 }, },
                [7] = new() { new() { 5, 6 }, new() { 11, 8 }, new() { 13, 9 }, new() { 15, 11 }, new() { 19, 10 }, new() { 21, 9 }, new() { 23, 8 }, new() { 32, 8 }, new() { 34, 15 }, new() { 38, 11 }, new() { 42, 8 }, new() { 44, 10 }, new() { 50, 6 }, },
                [8] = new() { },
                [9] = new() { new() { 20, 19 }, new() { 35, 19 }, },
                [10] = new() { },
                [11] = new() { new() { 5, 4 }, new() { 8, 16 }, new() { 12, 10 }, new() { 14, 8 }, new() { 16, 15 }, new() { 37, 9 }, new() { 39, 8 }, new() { 41, 8 }, new() { 43, 9 }, new() { 45, 16 }, new() { 50, 4 }, },
                [12] = new() { new() { 5, 6 }, new() { 50, 6 }, },
                [13] = new() { },
                [14] = new() { },
                [15] = new() { new() { 8, 13 }, new() { 12, 14 }, new() { 15, 12 }, new() { 19, 17 }, new() { 35, 18 }, new() { 39, 12 }, new() { 43, 14 }, new() { 46, 13 }, },
                [16] = new() { new() { 5, 4 }, new() { 50, 4 }, },
                [17] = new() { new() { 5, 6 }, new() { 15, 12 }, new() { 39, 12 }, new() { 50, 6 }, },
                [18] = new() { new() { 8, 13 }, new() { 12, 14 }, new() { 43, 14 }, new() { 46, 13 }, },
                [19] = new() { new() { 15, 12 }, new() { 39, 12 }, },
                [20] = new() { },
                [21] = new() { new() { 5, 4 }, new() { 20, 19 }, new() { 35, 19 }, new() { 50, 4 }, },
                [22] = new() { new() { 5, 6 }, new() { 50, 6 }, },
                [23] = new() { new() { 8, 16 }, new() { 12, 11 }, new() { 16, 9 }, new() { 18, 8 }, new() { 37, 15 }, new() { 41, 11 }, new() { 45, 15 }, },
                [24] = new() { },
                [25] = new() { },
                [26] = new() { new() { 5, 4 }, new() { 8, 17 }, new() { 46, 18 }, new() { 50, 4 }, },
                [27] = new() { new() { 5, 6 }, new() { 11, 15 }, new() { 15, 16 }, new() { 19, 11 }, new() { 23, 9 }, new() { 32, 10 }, new() { 34, 11 }, new() { 38, 10 }, new() { 40, 9 }, new() { 42, 16 }, new() { 50, 6 }, },
                [28] = new() { },
                [29] = new() { },
                [30] = new() { },
                [31] = new() { new() { 5, 1 }, new() { 6, 5 }, new() { 10, 2 }, new() { 11, 5 }, new() { 15, 2 }, new() { 16, 5 }, new() { 20, 2 }, new() { 21, 5 }, new() { 25, 7 }, new() { 31, 5 }, new() { 35, 2 }, new() { 36, 5 }, new() { 40, 2 }, new() { 41, 5 }, new() { 45, 2 }, new() { 46, 5 }, new() { 50, 3 }, },
                [32] = new() { },
                [33] = new() { },
                [34] = new() { },
                [35] = new() { },

            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    TerrainTile tTile = new(IconData.tilesheets.graveyard, array[1], new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.offset, array[1] > 7 && array[0] > 27);

                    foreach (Vector2 bottom in tTile.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {
                            
                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);
                        
                        }

                    }

                    terrainTiles.Add(tTile);

                }

            }

            codes = new()
            {

                [9] = new() { new() { 20, 1 }, new() { 35, 1 }, },

                [21] = new() { new() { 20, 1 }, new() { 35, 1 }, },

            };

            lightFields = new();

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    LightField light = new(new Vector2(array[0], code.Key) * 64 + new Vector2(32));

                    light.luminosity = 6;

                    light.colour = Microsoft.Xna.Framework.Color.LightBlue;

                    light.lightTimer = 1900;

                    lightFields.Add(light);

                }

            }*/

            codes = new()
            {
                [0] = new() { },
                [1] = new() { new() { 18, 1 }, },
                [2] = new() { },
                [3] = new() { new() { 10, 3 }, },
                [4] = new() { new() { 38, 2 }, },
                [5] = new() { },
                [6] = new() { },
                [7] = new() { },
                [8] = new() { },
                [9] = new() { },
                [10] = new() { },
                [11] = new() { },
                [12] = new() { },
                [13] = new() { },
                [14] = new() { },
                [15] = new() { new() { 47, 1 }, },
                [16] = new() { new() { 6, 1 }, },
                [17] = new() { },
                [18] = new() { },
                [19] = new() { },
                [20] = new() { },
                [21] = new() { },
                [22] = new() { new() { 13, 2 }, },
                [23] = new() { new() { 36, 3 }, },
                [24] = new() { },
                [25] = new() { },
                [26] = new() { },


            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    TerrainTile tTile = new(IconData.tilesheets.clearing, array[1], new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.smallleafy, array[0] > 27);

                    if (back.Tiles[array[0]+1, code.Key+7] != null)
                    {

                        buildings.Tiles[array[0] + 1, code.Key + 7] = new StaticTile(buildings, back.Tiles[array[0] + 1, code.Key + 7].TileSheet, BlendMode.Alpha, back.Tiles[array[0] + 1, code.Key + 7].TileIndex);

                    }


                    terrainTiles.Add(tTile);

                    LightField light = new(new Vector2(array[0], code.Key) * 64 + new Vector2(128,128));

                    light.luminosity = 6;

                    light.colour = Microsoft.Xna.Framework.Color.LightBlue;

                    light.lightTimer = 1900;

                    lightFields.Add(light);

                }

            }

            this.map = newMap;

        }

        public override void updateWarps()
        {
            //warps.Clear();

            if(warpSets.Count > 0)
            {

                warps.Clear();

                foreach(WarpTile warpSet in warpSets)
                {

                    warps.Add(new Warp(warpSet.enterX, warpSet.enterY, warpSet.location, warpSet.exitX, warpSet.exitY, flipFarmer: false));

                }

                if (accessOpen)
                {

                    OpenAccessDoor();

                }

                return;

            }

            // top exit

            warpSets.Add(new WarpTile(26, 2, "Forest", 87,60));

            warpSets.Add(new WarpTile(27, 2, "Forest", 87, 60));

            warpSets.Add(new WarpTile(28, 2, "Forest", 87, 60));

            warpSets.Add(new WarpTile(29, 2, "Forest", 87, 60));

            warps.Add(new Warp(26, 2, "Forest", 87, 60, flipFarmer: false));

            warps.Add(new Warp(27, 2, "Forest", 87, 60, flipFarmer: false));

            warps.Add(new Warp(28, 2, "Forest", 87, 60, flipFarmer: false));

            warps.Add(new Warp(29, 2, "Forest", 87, 60, flipFarmer: false));

            // bottom exit

            warpSets.Add(new WarpTile(26, 32, "Forest", 87, 60));

            warpSets.Add(new WarpTile(27, 32, "Forest", 87, 60));

            warpSets.Add(new WarpTile(28, 32, "Forest", 87, 60));

            warpSets.Add(new WarpTile(29, 32, "Forest", 87, 60));
            
            warps.Add(new Warp(26, 32, "Forest", 87, 60, flipFarmer: false));

            warps.Add(new Warp(27, 32, "Forest", 87, 60, flipFarmer: false));

            warps.Add(new Warp(28, 32, "Forest", 87, 60, flipFarmer: false));

            warps.Add(new Warp(29, 32, "Forest", 87, 60, flipFarmer: false));

        }

        public void OpenAccessDoor()
        {

            warps.Add(new Warp(46, 12, LocationData.druid_engineum_name, 27, 30, flipFarmer: false));

            warps.Add(new Warp(47, 12, LocationData.druid_engineum_name, 27, 30, flipFarmer: false));

            warps.Add(new Warp(48, 12, LocationData.druid_engineum_name, 27, 30, flipFarmer: false));

            accessOpen = true;

            accessDoor = new(IconData.tilesheets.engineum, 3, new Vector2(46, 9) * 64);

            return;

        }


    }

}
