using StardewValley;
using StardewValley.Locations;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using xTile.Layers;
using xTile.Tiles;
using Microsoft.Xna.Framework;
using StardewModdingAPI;
using StardewValley.Buildings;
using System.Drawing;
using StardewValley.Objects;
using System.Runtime.Intrinsics.X86;
using StardewValley.GameData.Locations;
using Microsoft.Xna.Framework.Graphics;
using StardewValley.TerrainFeatures;
using System.Threading;
using System.Xml.Serialization;
using StardewDruid.Character;
using StardewDruid.Data;
using xTile.Dimensions;

namespace StardewDruid.Location
{

    public class Gate : DruidLocation
    {

        public Gate() { }

        public Gate(string Name)
            : base(Name) 
        {

        }


        public override void OnMapLoad(xTile.Map map)
        {


            xTile.Dimensions.Size tileSize = map.GetLayer("Back").TileSize;

            xTile.Map newMap = new(map.Id);

            Layer back = new("Back", newMap, new(56, 34), tileSize);

            newMap.AddLayer(back);

            Layer buildings = new("Buildings", newMap, new(56, 34), tileSize);

            newMap.AddLayer(buildings);

            Layer front = new("Front", newMap, new(56, 34), tileSize);

            newMap.AddLayer(front);

            Layer alwaysfront = new("AlwaysFront", newMap, new(56, 34), tileSize);

            newMap.AddLayer(alwaysfront);

            TileSheet outdoor = new(LocationData.druid_grove_name+"_outdoors", newMap, "Maps\\spring_outdoorsTileSheet", new(25,79), tileSize);
            
            newMap.AddTileSheet(outdoor); //map.TileSheets[1].ImageSource

            TileSheet gatesheet = new(
                newMap,
                "StardewDruid.Tilesheets.gate",
                new(
                    Mod.instance.iconData.sheetTextures[IconData.tilesheets.gate].Width / 16,
                    Mod.instance.iconData.sheetTextures[IconData.tilesheets.gate].Height / 16
                ),
                new(16, 16)
            );

            newMap.AddTileSheet(gatesheet);

            IsOutdoors = true;

            ignoreOutdoorLighting.Set(false);

            // -----------------------------------------------------
            // normal ground

            Dictionary<int, List<List<int>>> groundCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { new() { 19, 295 }, },
                [3] = new() { new() { 19, 320 }, },
                [4] = new() { new() { 19, 345 }, new() { 23, 380 }, new() { 41, 290 }, },
                [5] = new() { new() { 19, 370 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 37, 380 }, new() { 41, 315 }, },
                [6] = new() { new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 380 }, new() { 27, 380 }, new() { 28, 380 }, new() { 29, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 41, 340 }, },
                [7] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 357 }, new() { 22, 405 }, new() { 23, 405 }, new() { 24, 405 }, new() { 25, 405 }, new() { 26, 405 }, new() { 27, 405 }, new() { 28, 405 }, new() { 29, 405 }, new() { 30, 405 }, new() { 31, 405 }, new() { 32, 407 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 365 }, },
                [8] = new() { new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 381 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 404 }, new() { 33, 407 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 156 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, },
                [9] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 357 }, new() { 21, 406 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 304 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 404 }, new() { 34, 405 }, new() { 35, 407 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [10] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 156 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 357 }, new() { 17, 405 }, new() { 18, 405 }, new() { 19, 405 }, new() { 20, 406 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 353 }, new() { 24, 376 }, new() { 25, 376 }, new() { 26, 376 }, new() { 27, 376 }, new() { 28, 376 }, new() { 29, 403 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 404 }, new() { 36, 405 }, new() { 37, 405 }, new() { 38, 405 }, new() { 39, 407 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [11] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 381 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 353 }, new() { 23, 377 }, new() { 24, 175 }, new() { 25, 151 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 375 }, new() { 30, 376 }, new() { 31, 376 }, new() { 32, 376 }, new() { 33, 403 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 379 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 156 }, new() { 44, 380 }, },
                [12] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 357 }, new() { 16, 406 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 353 }, new() { 22, 377 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 350 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 404 }, new() { 40, 407 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, },
                [13] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 357 }, new() { 14, 405 }, new() { 15, 406 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 353 }, new() { 19, 376 }, new() { 20, 376 }, new() { 21, 377 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 255 }, new() { 32, 175 }, new() { 33, 375 }, new() { 34, 376 }, new() { 35, 376 }, new() { 36, 403 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 404 }, new() { 41, 405 }, new() { 42, 407 }, new() { 43, 380 }, new() { 44, 380 }, },
                [14] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 300 }, new() { 17, 351 }, new() { 18, 352 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 150 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 200 }, new() { 26, 201 }, new() { 27, 201 }, new() { 28, 201 }, new() { 29, 201 }, new() { 30, 203 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 350 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 379 }, new() { 43, 380 }, new() { 44, 380 }, },
                [15] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 353 }, new() { 18, 377 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 200 }, new() { 24, 201 }, new() { 25, 202 }, new() { 26, 226 }, new() { 27, 614 }, new() { 28, 226 }, new() { 29, 226 }, new() { 30, 177 }, new() { 31, 203 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 375 }, new() { 37, 376 }, new() { 38, 403 }, new() { 39, 300 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 379 }, new() { 43, 380 }, new() { 44, 380 }, },
                [16] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 377 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 200 }, new() { 23, 202 }, new() { 24, 226 }, new() { 25, 226 }, new() { 26, 226 }, new() { 27, 226 }, new() { 28, 226 }, new() { 29, 226 }, new() { 30, 226 }, new() { 31, 177 }, new() { 32, 203 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 175 }, new() { 38, 350 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 379 }, new() { 43, 380 }, new() { 44, 380 }, },
                [17] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 352 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 225 }, new() { 23, 226 }, new() { 24, 226 }, new() { 25, 206 }, new() { 26, 226 }, new() { 27, 226 }, new() { 28, 226 }, new() { 29, 560 }, new() { 30, 585 }, new() { 31, 226 }, new() { 32, 177 }, new() { 33, 203 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 255 }, new() { 37, 175 }, new() { 38, 350 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 379 }, new() { 43, 380 }, new() { 44, 380 }, },
                [18] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 304 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 352 }, new() { 18, 175 }, new() { 19, 150 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 225 }, new() { 23, 610 }, new() { 24, 226 }, new() { 25, 226 }, new() { 26, 226 }, new() { 27, 226 }, new() { 28, 226 }, new() { 29, 226 }, new() { 30, 226 }, new() { 31, 226 }, new() { 32, 226 }, new() { 33, 228 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 175 }, new() { 38, 350 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 379 }, new() { 43, 380 }, new() { 44, 380 }, },
                [19] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 352 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 250 }, new() { 23, 252 }, new() { 24, 226 }, new() { 25, 226 }, new() { 26, 226 }, new() { 27, 226 }, new() { 28, 226 }, new() { 29, 226 }, new() { 30, 226 }, new() { 31, 231 }, new() { 32, 226 }, new() { 33, 228 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 175 }, new() { 38, 350 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 379 }, new() { 43, 380 }, new() { 44, 380 }, },
                [20] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 352 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 250 }, new() { 24, 252 }, new() { 25, 226 }, new() { 26, 207 }, new() { 27, 226 }, new() { 28, 226 }, new() { 29, 226 }, new() { 30, 226 }, new() { 31, 226 }, new() { 32, 178 }, new() { 33, 253 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 325 }, new() { 37, 326 }, new() { 38, 328 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 305 }, new() { 42, 379 }, new() { 43, 380 }, new() { 44, 380 }, },
                [21] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 381 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 378 }, new() { 18, 326 }, new() { 19, 327 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 225 }, new() { 25, 226 }, new() { 26, 226 }, new() { 27, 226 }, new() { 28, 226 }, new() { 29, 226 }, new() { 30, 178 }, new() { 31, 251 }, new() { 32, 253 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 350 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 354 }, new() { 41, 355 }, new() { 42, 332 }, new() { 43, 380 }, new() { 44, 380 }, },
                [22] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 382 }, new() { 14, 355 }, new() { 15, 356 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 378 }, new() { 20, 327 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 250 }, new() { 25, 251 }, new() { 26, 251 }, new() { 27, 251 }, new() { 28, 251 }, new() { 29, 251 }, new() { 30, 253 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 350 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, },
                [23] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 382 }, new() { 16, 356 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 378 }, new() { 21, 327 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 151 }, new() { 33, 175 }, new() { 34, 325 }, new() { 35, 326 }, new() { 36, 328 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 354 }, new() { 40, 332 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, },
                [24] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 381 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 378 }, new() { 22, 327 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 350 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 379 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, },
                [25] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 382 }, new() { 17, 355 }, new() { 18, 356 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 378 }, new() { 23, 326 }, new() { 24, 326 }, new() { 25, 326 }, new() { 26, 326 }, new() { 27, 326 }, new() { 28, 326 }, new() { 29, 326 }, new() { 30, 326 }, new() { 31, 326 }, new() { 32, 326 }, new() { 33, 326 }, new() { 34, 328 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 354 }, new() { 38, 355 }, new() { 39, 332 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, },
                [26] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 382 }, new() { 19, 356 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 354 }, new() { 37, 332 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, },
                [27] = new() { new() { 14, 380 }, new() { 15, 156 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 382 }, new() { 20, 356 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 300 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 379 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, },
                [28] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 382 }, new() { 21, 355 }, new() { 22, 355 }, new() { 23, 355 }, new() { 24, 355 }, new() { 25, 356 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 354 }, new() { 30, 355 }, new() { 31, 355 }, new() { 32, 355 }, new() { 33, 355 }, new() { 34, 355 }, new() { 35, 355 }, new() { 36, 332 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, },
                [29] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 382 }, new() { 26, 356 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, },
                [30] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [31] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [32] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },
                [33] = new() { new() { 26, 381 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, },


            };

            foreach (KeyValuePair<int, List<List<int>>> groundCode in groundCodes)
            {

                foreach (List<int> groundArray in groundCode.Value)
                {

                    back.Tiles[groundArray[0], groundCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, groundArray[1]);

                }

            }

            Dictionary<int, List<List<int>>> typeCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { },
                [3] = new() { },
                [4] = new() { },
                [5] = new() { },
                [6] = new() { new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, },
                [7] = new() { new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, },
                [8] = new() { new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [9] = new() { new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [10] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [11] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [12] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [13] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [14] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [15] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 2 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 2 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [16] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 2 }, new() { 23, 2 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 2 }, new() { 32, 2 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [17] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 2 }, new() { 23, 2 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 2 }, new() { 32, 2 }, new() { 33, 2 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [18] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 2 }, new() { 23, 2 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 2 }, new() { 32, 2 }, new() { 33, 2 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [19] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 2 }, new() { 23, 2 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 2 }, new() { 32, 2 }, new() { 33, 2 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [20] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 2 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 2 }, new() { 32, 2 }, new() { 33, 2 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [21] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 2 }, new() { 32, 2 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [22] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 2 }, new() { 25, 2 }, new() { 26, 2 }, new() { 27, 2 }, new() { 28, 2 }, new() { 29, 2 }, new() { 30, 2 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [23] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [24] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [25] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [26] = new() { new() { 11, 1 }, new() { 12, 1 }, new() { 13, 1 }, new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, new() { 41, 1 }, new() { 42, 1 }, new() { 43, 1 }, new() { 44, 1 }, },
                [27] = new() { new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [28] = new() { new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [29] = new() { new() { 14, 1 }, new() { 15, 1 }, new() { 16, 1 }, new() { 17, 1 }, new() { 18, 1 }, new() { 19, 1 }, new() { 20, 1 }, new() { 21, 1 }, new() { 22, 1 }, new() { 23, 1 }, new() { 24, 1 }, new() { 25, 1 }, new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, new() { 30, 1 }, new() { 31, 1 }, new() { 32, 1 }, new() { 33, 1 }, new() { 34, 1 }, new() { 35, 1 }, new() { 36, 1 }, new() { 37, 1 }, new() { 38, 1 }, new() { 39, 1 }, new() { 40, 1 }, },
                [30] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [31] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [32] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },
                [33] = new() { new() { 26, 1 }, new() { 27, 1 }, new() { 28, 1 }, new() { 29, 1 }, },



            };

            foreach (KeyValuePair<int, List<List<int>>> typeCode in typeCodes)
            {

                foreach (List<int> typeArray in typeCode.Value)
                {

                    back.Tiles[typeArray[0], typeCode.Key].TileIndexProperties.Add("Type", typeArray[1] == 1 ? "Grass" : "Dirt");
                }

            }

            // ------------------------------------------------------
            // building

            Dictionary<int, List<List<int>>> borderCodes = new()
            {
                [0] = new() { new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 444 }, new() { 30, 441 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, },
                [1] = new() { new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 342 }, new() { 24, 368 }, new() { 25, 469 }, new() { 30, 466 }, new() { 31, 464 }, new() { 32, 440 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, },
                [2] = new() { new() { 16, 175 }, new() { 17, 175 }, new() { 18, 175 }, new() { 19, 294 }, new() { 20, 295 }, new() { 21, 468 }, new() { 22, 368 }, new() { 23, 367 }, new() { 24, 393 }, new() { 25, 494 }, new() { 30, 491 }, new() { 31, 489 }, new() { 32, 465 }, new() { 33, 464 }, new() { 34, 440 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 175 }, new() { 38, 175 }, new() { 39, 175 }, },
                [3] = new() { new() { 13, 175 }, new() { 14, 175 }, new() { 15, 175 }, new() { 16, 175 }, new() { 17, 175 }, new() { 18, 175 }, new() { 19, 444 }, new() { 20, 320 }, new() { 21, 493 }, new() { 22, 393 }, new() { 23, 392 }, new() { 24, 418 }, new() { 25, 519 }, new() { 30, 516 }, new() { 31, 514 }, new() { 32, 490 }, new() { 33, 489 }, new() { 34, 465 }, new() { 35, 467 }, new() { 36, 468 }, new() { 37, 464 }, new() { 38, 440 }, new() { 39, 175 }, new() { 40, 175 }, new() { 41, 175 }, new() { 42, 175 }, },
                [4] = new() { new() { 11, 175 }, new() { 12, 175 }, new() { 13, 175 }, new() { 14, 342 }, new() { 15, 368 }, new() { 16, 467 }, new() { 17, 468 }, new() { 18, 467 }, new() { 19, 469 }, new() { 20, 345 }, new() { 21, 518 }, new() { 22, 418 }, new() { 23, 417 }, new() { 24, 443 }, new() { 25, 544 }, new() { 30, 541 }, new() { 31, 539 }, new() { 32, 515 }, new() { 33, 514 }, new() { 34, 490 }, new() { 35, 492 }, new() { 36, 493 }, new() { 37, 489 }, new() { 38, 465 }, new() { 39, 468 }, new() { 40, 290 }, new() { 41, 291 }, new() { 42, 175 }, },
                [5] = new() { new() { 9, 175 }, new() { 10, 175 }, new() { 11, 175 }, new() { 12, 342 }, new() { 13, 368 }, new() { 14, 367 }, new() { 15, 393 }, new() { 16, 492 }, new() { 17, 493 }, new() { 18, 492 }, new() { 19, 494 }, new() { 20, 370 }, new() { 21, 543 }, new() { 22, 443 }, new() { 23, 442 }, new() { 32, 540 }, new() { 33, 539 }, new() { 34, 515 }, new() { 35, 517 }, new() { 36, 518 }, new() { 37, 514 }, new() { 38, 490 }, new() { 39, 493 }, new() { 40, 315 }, new() { 41, 441 }, new() { 42, 175 }, new() { 43, 175 }, new() { 44, 175 }, new() { 45, 175 }, new() { 46, 175 }, },
                [6] = new() { new() { 9, 175 }, new() { 10, 342 }, new() { 11, 368 }, new() { 12, 367 }, new() { 13, 393 }, new() { 14, 392 }, new() { 15, 418 }, new() { 16, 517 }, new() { 17, 518 }, new() { 18, 517 }, new() { 19, 519 }, new() { 34, 540 }, new() { 35, 542 }, new() { 36, 543 }, new() { 37, 539 }, new() { 38, 515 }, new() { 39, 518 }, new() { 40, 340 }, new() { 41, 466 }, new() { 42, 467 }, new() { 43, 468 }, new() { 44, 464 }, new() { 45, 440 }, new() { 46, 175 }, },
                [7] = new() { new() { 9, 175 }, new() { 10, 367 }, new() { 11, 393 }, new() { 12, 392 }, new() { 13, 418 }, new() { 14, 417 }, new() { 15, 443 }, new() { 16, 542 }, new() { 17, 543 }, new() { 18, 542 }, new() { 19, 544 }, new() { 38, 540 }, new() { 39, 543 }, new() { 40, 365 }, new() { 41, 491 }, new() { 42, 492 }, new() { 43, 493 }, new() { 44, 489 }, new() { 45, 465 }, new() { 46, 175 }, },
                [8] = new() { new() { 9, 175 }, new() { 10, 392 }, new() { 11, 418 }, new() { 12, 417 }, new() { 13, 443 }, new() { 14, 442 }, new() { 41, 516 }, new() { 42, 517 }, new() { 43, 518 }, new() { 44, 514 }, new() { 45, 490 }, new() { 46, 175 }, },
                [9] = new() { new() { 9, 175 }, new() { 10, 417 }, new() { 11, 443 }, new() { 12, 442 }, new() { 41, 541 }, new() { 42, 542 }, new() { 43, 543 }, new() { 44, 539 }, new() { 45, 515 }, new() { 46, 175 }, },
                [10] = new() { new() { 9, 175 }, new() { 10, 442 }, new() { 45, 540 }, new() { 46, 175 }, },
                [11] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [12] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [13] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [14] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [15] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [16] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [17] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [18] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [19] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [20] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [21] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [22] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [23] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [24] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [25] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [26] = new() { new() { 10, 380 }, new() { 45, 380 }, },
                [27] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [28] = new() { new() { 13, 380 }, new() { 41, 380 }, },
                [29] = new() { new() { 13, 380 }, new() { 41, 380 }, },
                [30] = new() { new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, },
                [31] = new() { new() { 25, 380 }, new() { 30, 380 }, },
                [32] = new() { new() { 25, 380 }, new() { 30, 380 }, },
                [33] = new() { new() { 25, 380 }, new() { 30, 380 }, },


            };

            foreach (KeyValuePair<int, List<List<int>>> borderCode in borderCodes)
            {

                foreach (List<int> borderArray in borderCode.Value)
                {

                    buildings.Tiles[borderArray[0], borderCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, borderArray[1]);

                }

            }

            // ------------------------------------------------------
            // always front

            Dictionary<int, List<List<int>>> canopyCodes = new()
            {
                [0] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 940 }, new() { 21, 940 }, new() { 22, 940 }, new() { 23, 990 }, new() { 24, 991 }, new() { 31, 994 }, new() { 32, 995 }, new() { 33, 945 }, new() { 34, 945 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [1] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 940 }, new() { 16, 941 }, new() { 17, 942 }, new() { 18, 942 }, new() { 19, 942 }, new() { 20, 942 }, new() { 21, 942 }, new() { 22, 942 }, new() { 23, 1015 }, new() { 24, 1016 }, new() { 31, 1019 }, new() { 32, 942 }, new() { 33, 943 }, new() { 34, 943 }, new() { 35, 943 }, new() { 36, 942 }, new() { 37, 943 }, new() { 38, 944 }, new() { 39, 945 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [2] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 965 }, new() { 16, 966 }, new() { 17, 967 }, new() { 18, 967 }, new() { 19, 967 }, new() { 20, 967 }, new() { 21, 967 }, new() { 22, 967 }, new() { 23, 968 }, new() { 24, 992 }, new() { 31, 993 }, new() { 32, 967 }, new() { 33, 968 }, new() { 34, 968 }, new() { 35, 968 }, new() { 36, 967 }, new() { 37, 968 }, new() { 38, 969 }, new() { 39, 970 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [3] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 940 }, new() { 15, 990 }, new() { 16, 991 }, new() { 38, 994 }, new() { 39, 995 }, new() { 40, 945 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [4] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 940 }, new() { 13, 941 }, new() { 14, 942 }, new() { 15, 1015 }, new() { 16, 1016 }, new() { 38, 1019 }, new() { 39, 942 }, new() { 40, 943 }, new() { 41, 944 }, new() { 42, 945 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [5] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 965 }, new() { 13, 966 }, new() { 14, 967 }, new() { 15, 968 }, new() { 16, 992 }, new() { 38, 993 }, new() { 39, 967 }, new() { 40, 968 }, new() { 41, 969 }, new() { 42, 970 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [6] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 940 }, new() { 12, 990 }, new() { 13, 991 }, new() { 41, 994 }, new() { 42, 995 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [7] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 940 }, new() { 10, 941 }, new() { 11, 942 }, new() { 12, 1015 }, new() { 13, 1016 }, new() { 41, 1019 }, new() { 42, 942 }, new() { 43, 943 }, new() { 44, 943 }, new() { 45, 944 }, new() { 46, 945 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [8] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 965 }, new() { 10, 966 }, new() { 11, 967 }, new() { 12, 968 }, new() { 13, 992 }, new() { 41, 993 }, new() { 42, 967 }, new() { 43, 968 }, new() { 44, 968 }, new() { 45, 969 }, new() { 46, 970 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [9] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 990 }, new() { 10, 991 }, new() { 45, 994 }, new() { 46, 995 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [10] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 990 }, new() { 10, 991 }, new() { 45, 994 }, new() { 46, 995 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [11] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 990 }, new() { 10, 991 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [12] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 990 }, new() { 10, 991 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [13] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [14] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [15] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 994 }, new() { 46, 995 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [16] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 990 }, new() { 10, 991 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [17] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 990 }, new() { 10, 991 }, new() { 45, 994 }, new() { 46, 995 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [18] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 990 }, new() { 10, 991 }, new() { 45, 994 }, new() { 46, 995 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [19] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [20] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [21] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [22] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 994 }, new() { 46, 995 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [23] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1015 }, new() { 10, 1016 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [24] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1040 }, new() { 10, 1041 }, new() { 11, 1042 }, new() { 12, 1043 }, new() { 13, 1017 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [25] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 1065 }, new() { 10, 1066 }, new() { 11, 1067 }, new() { 12, 1068 }, new() { 13, 991 }, new() { 45, 994 }, new() { 46, 995 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [26] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 1065 }, new() { 12, 1015 }, new() { 13, 1016 }, new() { 45, 1019 }, new() { 46, 1020 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [27] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 1040 }, new() { 13, 1041 }, new() { 14, 1042 }, new() { 15, 1043 }, new() { 16, 1017 }, new() { 41, 1018 }, new() { 42, 1042 }, new() { 43, 1043 }, new() { 44, 1043 }, new() { 45, 1044 }, new() { 46, 1045 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [28] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 1065 }, new() { 13, 1066 }, new() { 14, 1067 }, new() { 15, 1068 }, new() { 16, 991 }, new() { 41, 994 }, new() { 42, 995 }, new() { 43, 1068 }, new() { 44, 1068 }, new() { 45, 1069 }, new() { 46, 1070 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [29] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 1065 }, new() { 15, 1015 }, new() { 16, 1016 }, new() { 41, 1019 }, new() { 42, 1020 }, new() { 43, 1070 }, new() { 44, 1070 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [30] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 1040 }, new() { 16, 1041 }, new() { 17, 1042 }, new() { 18, 1042 }, new() { 19, 1042 }, new() { 20, 1042 }, new() { 21, 1042 }, new() { 22, 1042 }, new() { 23, 1042 }, new() { 24, 1043 }, new() { 25, 1017 }, new() { 30, 1018 }, new() { 31, 1042 }, new() { 32, 1042 }, new() { 33, 1042 }, new() { 34, 1042 }, new() { 35, 1042 }, new() { 36, 1042 }, new() { 37, 1042 }, new() { 38, 1043 }, new() { 39, 1042 }, new() { 40, 1043 }, new() { 41, 1044 }, new() { 42, 1045 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [31] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 1065 }, new() { 16, 1066 }, new() { 17, 1067 }, new() { 18, 1067 }, new() { 19, 1067 }, new() { 20, 1067 }, new() { 21, 1067 }, new() { 22, 1067 }, new() { 23, 1067 }, new() { 24, 1068 }, new() { 25, 991 }, new() { 30, 994 }, new() { 31, 995 }, new() { 32, 1067 }, new() { 33, 1067 }, new() { 34, 1067 }, new() { 35, 1067 }, new() { 36, 1067 }, new() { 37, 1067 }, new() { 38, 1068 }, new() { 39, 1067 }, new() { 40, 1068 }, new() { 41, 1069 }, new() { 42, 1070 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [32] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 946 }, new() { 21, 946 }, new() { 22, 946 }, new() { 23, 946 }, new() { 24, 1040 }, new() { 25, 1041 }, new() { 26, 1042 }, new() { 27, 1042 }, new() { 28, 1042 }, new() { 29, 1043 }, new() { 30, 1044 }, new() { 31, 1045 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [33] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 946 }, new() { 21, 946 }, new() { 22, 946 }, new() { 23, 946 }, new() { 24, 1065 }, new() { 25, 1066 }, new() { 26, 1067 }, new() { 27, 1067 }, new() { 28, 1067 }, new() { 29, 1068 }, new() { 30, 1069 }, new() { 31, 1070 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },

            };

            foreach (KeyValuePair<int, List<List<int>>> canopyCode in canopyCodes)
            {

                foreach (List<int> canopyArray in canopyCode.Value)
                {

                    alwaysfront.Tiles[canopyArray[0], canopyCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, canopyArray[1]);

                }

            }


            groundCodes = new()
            {
                [0] = new() { new() { 25, 79 }, new() { 26, 80 }, new() { 27, 81 }, new() { 28, 82 }, new() { 29, 83 }, new() { 30, 84 }, },
                [1] = new() { new() { 24, 65 }, new() { 25, 66 }, new() { 26, 67 }, new() { 27, 68 }, new() { 28, 69 }, new() { 29, 70 }, new() { 30, 71 }, new() { 31, 72 }, },
                [2] = new() { new() { 24, 78 }, new() { 25, 79 }, new() { 26, 80 }, new() { 27, 81 }, new() { 28, 82 }, new() { 29, 83 }, new() { 30, 84 }, new() { 31, 85 }, },
                [3] = new() { new() { 24, 65 }, new() { 25, 66 }, new() { 26, 67 }, new() { 27, 68 }, new() { 28, 69 }, new() { 29, 70 }, new() { 30, 71 }, new() { 31, 72 }, },
                [4] = new() { new() { 24, 78 }, new() { 25, 79 }, new() { 26, 80 }, new() { 27, 81 }, new() { 28, 82 }, new() { 29, 83 }, new() { 30, 84 }, new() { 31, 85 }, },
                [5] = new() { new() { 24, 65 }, new() { 25, 66 }, new() { 26, 67 }, new() { 27, 68 }, new() { 28, 69 }, new() { 29, 70 }, new() { 30, 71 }, new() { 31, 72 }, },
                [6] = new() { new() { 24, 78 }, new() { 25, 79 }, new() { 26, 80 }, new() { 27, 81 }, new() { 28, 82 }, new() { 29, 83 }, new() { 30, 84 }, new() { 31, 85 }, },


            };

            foreach (KeyValuePair<int, List<List<int>>> groundCode in groundCodes)
            {

                foreach (List<int> groundArray in groundCode.Value)
                {

                    back.Tiles[groundArray[0], groundCode.Key] = new StaticTile(back, gatesheet, BlendMode.Alpha, groundArray[1]);

                }

            }


            Dictionary<int, List<List<int>>> codes = new()
            {

                [0] = new() { new() { 24, 1 }, },

                [5] = new() { new() { 17, 2 }, new() { 36, 2 }, },

                [9] = new() { new() { 14, 2 }, new() { 39, 2 }, },

                [14] = new() { new() { 14, 2 }, new() { 39, 2 }, },

                [18] = new() { new() { 17, 2 }, new() { 36, 2 }, },



            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    TerrainTile tTile = new(IconData.tilesheets.gate, array[1], new Vector2(array[0], code.Key) * 64);

                    foreach (Vector2 bottom in tTile.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {
                            
                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);
                        
                        }

                    }

                    terrainTiles.Add(tTile);

                }

            }

            this.map = newMap;

        }

        public override void updateWarps()
        {
            //warps.Clear();

            if(warpSets.Count > 0)
            {

                warps.Clear();

                foreach(WarpTile warpSet in warpSets)
                {

                    warps.Add(new Warp(warpSet.enterX, warpSet.enterY, warpSet.location, warpSet.exitX, warpSet.exitY, flipFarmer: false));

                }

                return;

            }

            warpSets.Add(new WarpTile(26, 32, LocationData.druid_grove_name, 21, 5));

            warpSets.Add(new WarpTile(27, 32, LocationData.druid_grove_name, 21, 5));

            warpSets.Add(new WarpTile(28, 32, LocationData.druid_grove_name, 21, 5));

            warpSets.Add(new WarpTile(29, 32, LocationData.druid_grove_name, 21, 5));

            warps.Add(new Warp(26, 32, LocationData.druid_grove_name, 21, 5, flipFarmer: false));

            warps.Add(new Warp(27, 32, LocationData.druid_grove_name, 21, 5, flipFarmer: false));

            warps.Add(new Warp(28, 32, LocationData.druid_grove_name, 21, 5, flipFarmer: false));

            warps.Add(new Warp(29, 32, LocationData.druid_grove_name, 21, 5, flipFarmer: false));

            (Mod.instance.locations[LocationData.druid_grove_name] as Grove).AddGateWarps();

        }

    }

}
