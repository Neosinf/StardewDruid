using StardewValley;
using StardewValley.Locations;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using xTile.Layers;
using xTile.Tiles;
using Microsoft.Xna.Framework;
using StardewModdingAPI;
using StardewValley.Buildings;
using System.Drawing;
using StardewValley.Objects;
using System.Runtime.Intrinsics.X86;
using StardewValley.GameData.Locations;
using Microsoft.Xna.Framework.Graphics;
using StardewValley.TerrainFeatures;
using System.Threading;
using System.Xml.Serialization;
using StardewDruid.Character;
using StardewDruid.Data;
using xTile.Dimensions;
using System.IO;
using StardewValley.Extensions;
using StardewDruid.Monster;
using static StardewDruid.Data.IconData;
using StardewDruid.Event;
using StardewDruid.Location.Terrain;

namespace StardewDruid.Location.Druid
{

    public class Grove : DruidLocation
    {

        public Grove() { }

        public Grove(string name)
            : base(name)
        {

        }

        public override void OnMapLoad(xTile.Map map)
        {

            xTile.Dimensions.Size tileSize = map.GetLayer("Back").TileSize;

            xTile.Map newMap = new(map.Id);

            Layer back = new("Back", newMap, new(56, 30), tileSize);

            newMap.AddLayer(back);

            Layer buildings = new("Buildings", newMap, new(56, 30), tileSize);

            newMap.AddLayer(buildings);

            Layer front = new("Front", newMap, new(56, 30), tileSize);

            newMap.AddLayer(front);

            Layer alwaysfront = new("AlwaysFront", newMap, new(56, 30), tileSize);

            newMap.AddLayer(alwaysfront);

            TileSheet outdoor = new(LocationHandle.druid_grove_name + "_outdoors", newMap, Path.Combine("Maps", "spring_outdoorsTileSheet"), new(25, 79), tileSize);

            newMap.AddTileSheet(outdoor); //map.TileSheets[1].ImageSource

            IsOutdoors = true;

            ignoreOutdoorLighting.Set(false);

            largeTerrainFeatures.Set(new List<LargeTerrainFeature>());

            terrainFields = new();

            // -----------------------------------------------------
            // normal ground

            Dictionary<int, List<List<int>>> groundCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { },
                [3] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 381 }, new() { 21, 999 }, new() { 22, 379 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 380 }, new() { 27, 380 }, },
                [4] = new() { new() { 14, 380 }, new() { 15, 357 }, new() { 16, 405 }, new() { 17, 405 }, new() { 18, 405 }, new() { 19, 405 }, new() { 20, 406 }, new() { 21, 973 }, new() { 22, 404 }, new() { 23, 405 }, new() { 24, 405 }, new() { 25, 405 }, new() { 26, 407 }, new() { 27, 380 }, },
                [5] = new() { new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 998 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 379 }, new() { 27, 380 }, new() { 28, 380 }, },
                [6] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 357 }, new() { 15, 406 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 404 }, new() { 27, 407 }, new() { 28, 380 }, new() { 29, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, },
                [7] = new() { new() { 11, 380 }, new() { 12, 357 }, new() { 13, 405 }, new() { 14, 406 }, new() { 15, 304 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 404 }, new() { 28, 405 }, new() { 29, 407 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 42, 154 }, },
                [8] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 381 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 42, 154 }, },
                [9] = new() { new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 357 }, new() { 12, 406 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 404 }, new() { 30, 407 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 381 }, new() { 42, 999 }, new() { 43, 379 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, },
                [10] = new() { new() { 8, 380 }, new() { 9, 357 }, new() { 10, 405 }, new() { 11, 406 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 404 }, new() { 31, 405 }, new() { 32, 405 }, new() { 33, 405 }, new() { 34, 405 }, new() { 35, 405 }, new() { 36, 405 }, new() { 37, 405 }, new() { 38, 405 }, new() { 39, 405 }, new() { 40, 405 }, new() { 41, 406 }, new() { 42, 973 }, new() { 43, 404 }, new() { 44, 405 }, new() { 45, 405 }, new() { 46, 407 }, new() { 47, 380 }, },
                [11] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 972 }, new() { 42, 973 }, new() { 43, 974 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [12] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 353 }, new() { 19, 376 }, new() { 20, 376 }, new() { 21, 376 }, new() { 22, 376 }, new() { 23, 403 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 998 }, new() { 43, 351 }, new() { 44, 300 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [13] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 300 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 353 }, new() { 18, 377 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 375 }, new() { 24, 403 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [14] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 352 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 350 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [15] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 352 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 350 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [16] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 352 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 350 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [17] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 378 }, new() { 18, 327 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 325 }, new() { 24, 328 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 300 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [18] = new() { new() { 8, 380 }, new() { 9, 382 }, new() { 10, 355 }, new() { 11, 356 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 378 }, new() { 19, 326 }, new() { 20, 326 }, new() { 21, 326 }, new() { 22, 326 }, new() { 23, 328 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 300 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 948 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [19] = new() { new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 382 }, new() { 12, 356 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 304 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 300 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 972 }, new() { 42, 973 }, new() { 43, 974 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [20] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 381 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 354 }, new() { 30, 355 }, new() { 31, 355 }, new() { 32, 355 }, new() { 33, 355 }, new() { 34, 355 }, new() { 35, 355 }, new() { 36, 355 }, new() { 37, 355 }, new() { 38, 355 }, new() { 39, 355 }, new() { 40, 355 }, new() { 41, 356 }, new() { 42, 973 }, new() { 43, 354 }, new() { 44, 355 }, new() { 45, 355 }, new() { 46, 332 }, new() { 47, 380 }, },
                [21] = new() { new() { 11, 380 }, new() { 12, 382 }, new() { 13, 355 }, new() { 14, 356 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 354 }, new() { 28, 355 }, new() { 29, 332 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 381 }, new() { 42, 973 }, new() { 43, 379 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, },
                [22] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 382 }, new() { 15, 356 }, new() { 16, 351 }, new() { 17, 300 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 354 }, new() { 27, 332 }, new() { 28, 380 }, new() { 29, 380 }, new() { 30, 380 }, new() { 40, 380 }, new() { 41, 381 }, new() { 42, 973 }, new() { 43, 379 }, new() { 44, 380 }, },
                [23] = new() { new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 379 }, new() { 27, 380 }, new() { 28, 380 }, new() { 40, 380 }, new() { 41, 382 }, new() { 42, 973 }, new() { 43, 332 }, new() { 44, 380 }, },
                [24] = new() { new() { 14, 380 }, new() { 15, 382 }, new() { 16, 355 }, new() { 17, 355 }, new() { 18, 355 }, new() { 19, 355 }, new() { 20, 355 }, new() { 21, 355 }, new() { 22, 355 }, new() { 23, 355 }, new() { 24, 355 }, new() { 25, 355 }, new() { 26, 332 }, new() { 27, 380 }, },
                [25] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 380 }, new() { 27, 380 }, },
                [26] = new() { },
                [27] = new() { },
                [28] = new() { },
                [29] = new() { },


            };

            foreach (KeyValuePair<int, List<List<int>>> groundCode in groundCodes)
            {

                foreach (List<int> groundArray in groundCode.Value)
                {

                    back.Tiles[groundArray[0], groundCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, groundArray[1]);

                }

            }

            Dictionary<int, List<List<int>>> typeCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { },
                [3] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 381 }, new() { 21, 999 }, new() { 22, 379 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 380 }, new() { 27, 380 }, },
                [4] = new() { new() { 14, 380 }, new() { 15, 357 }, new() { 16, 405 }, new() { 17, 405 }, new() { 18, 405 }, new() { 19, 405 }, new() { 20, 406 }, new() { 21, 973 }, new() { 22, 404 }, new() { 23, 405 }, new() { 24, 405 }, new() { 25, 405 }, new() { 26, 407 }, new() { 27, 380 }, },
                [5] = new() { new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 998 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 379 }, new() { 27, 380 }, new() { 28, 380 }, },
                [6] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 357 }, new() { 15, 406 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 404 }, new() { 27, 407 }, new() { 28, 380 }, new() { 29, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, },
                [7] = new() { new() { 11, 380 }, new() { 12, 357 }, new() { 13, 405 }, new() { 14, 406 }, new() { 15, 304 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 404 }, new() { 28, 405 }, new() { 29, 407 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 42, 154 }, },
                [8] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 381 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 379 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 42, 154 }, },
                [9] = new() { new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 357 }, new() { 12, 406 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 404 }, new() { 30, 407 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 381 }, new() { 42, 999 }, new() { 43, 379 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, },
                [10] = new() { new() { 8, 380 }, new() { 9, 357 }, new() { 10, 405 }, new() { 11, 406 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 404 }, new() { 31, 405 }, new() { 32, 405 }, new() { 33, 405 }, new() { 34, 405 }, new() { 35, 405 }, new() { 36, 405 }, new() { 37, 405 }, new() { 38, 405 }, new() { 39, 405 }, new() { 40, 405 }, new() { 41, 406 }, new() { 42, 973 }, new() { 43, 404 }, new() { 44, 405 }, new() { 45, 405 }, new() { 46, 407 }, new() { 47, 380 }, },
                [11] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 353 }, new() { 20, 376 }, new() { 21, 376 }, new() { 22, 403 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 972 }, new() { 42, 973 }, new() { 43, 974 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [12] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 353 }, new() { 18, 376 }, new() { 19, 377 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 375 }, new() { 23, 376 }, new() { 24, 403 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 998 }, new() { 43, 351 }, new() { 44, 300 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [13] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 300 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 353 }, new() { 17, 377 }, new() { 18, 175 }, new() { 19, 151 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 375 }, new() { 25, 403 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [14] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 352 }, new() { 17, 175 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 350 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [15] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 352 }, new() { 17, 175 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 255 }, new() { 25, 350 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [16] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 352 }, new() { 17, 175 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 350 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [17] = new() { new() { 8, 380 }, new() { 9, 381 }, new() { 10, 351 }, new() { 11, 351 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 378 }, new() { 17, 327 }, new() { 18, 175 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 151 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 325 }, new() { 25, 328 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 300 }, new() { 41, 351 }, new() { 42, 351 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [18] = new() { new() { 8, 380 }, new() { 9, 382 }, new() { 10, 355 }, new() { 11, 356 }, new() { 12, 351 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 378 }, new() { 18, 326 }, new() { 19, 327 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 325 }, new() { 23, 326 }, new() { 24, 328 }, new() { 25, 300 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 351 }, new() { 42, 948 }, new() { 43, 351 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [19] = new() { new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 382 }, new() { 12, 356 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 378 }, new() { 20, 326 }, new() { 21, 326 }, new() { 22, 328 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 351 }, new() { 41, 972 }, new() { 42, 973 }, new() { 43, 974 }, new() { 44, 351 }, new() { 45, 351 }, new() { 46, 379 }, new() { 47, 380 }, },
                [20] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 381 }, new() { 13, 351 }, new() { 14, 351 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 351 }, new() { 28, 351 }, new() { 29, 354 }, new() { 30, 355 }, new() { 31, 355 }, new() { 32, 355 }, new() { 33, 355 }, new() { 34, 355 }, new() { 35, 355 }, new() { 36, 355 }, new() { 37, 355 }, new() { 38, 355 }, new() { 39, 355 }, new() { 40, 355 }, new() { 41, 356 }, new() { 42, 973 }, new() { 43, 354 }, new() { 44, 355 }, new() { 45, 355 }, new() { 46, 332 }, new() { 47, 380 }, },
                [21] = new() { new() { 11, 380 }, new() { 12, 382 }, new() { 13, 355 }, new() { 14, 356 }, new() { 15, 351 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 300 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 354 }, new() { 28, 355 }, new() { 29, 332 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 381 }, new() { 42, 973 }, new() { 43, 379 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, },
                [22] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 382 }, new() { 15, 356 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 354 }, new() { 27, 332 }, new() { 28, 380 }, new() { 29, 380 }, new() { 30, 380 }, new() { 40, 380 }, new() { 41, 381 }, new() { 42, 973 }, new() { 43, 379 }, new() { 44, 380 }, },
                [23] = new() { new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 379 }, new() { 27, 380 }, new() { 28, 380 }, new() { 40, 380 }, new() { 41, 382 }, new() { 42, 973 }, new() { 43, 332 }, new() { 44, 380 }, },
                [24] = new() { new() { 14, 380 }, new() { 15, 382 }, new() { 16, 355 }, new() { 17, 355 }, new() { 18, 355 }, new() { 19, 355 }, new() { 20, 355 }, new() { 21, 355 }, new() { 22, 355 }, new() { 23, 355 }, new() { 24, 355 }, new() { 25, 355 }, new() { 26, 332 }, new() { 27, 380 }, },
                [25] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 380 }, new() { 27, 380 }, },
                [26] = new() { },
                [27] = new() { },
                [28] = new() { },
                [29] = new() { },

            };

            foreach (KeyValuePair<int, List<List<int>>> typeCode in typeCodes)
            {

                foreach (List<int> typeArray in typeCode.Value)
                {

                    back.Tiles[typeArray[0], typeCode.Key].TileIndexProperties.Add("Type", typeArray[1] == 1 ? "Grass" : "Stone");
                }

            }


            // ------------------------------------------------------
            // building

            Dictionary<int, List<List<int>>> borderCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 380 }, new() { 27, 380 }, },
                [3] = new() { new() { 13, 380 }, new() { 14, 380 }, new() { 27, 380 }, new() { 28, 380 }, },
                [4] = new() { new() { 12, 380 }, new() { 13, 380 }, new() { 28, 380 }, new() { 29, 380 }, },
                [5] = new() { new() { 11, 380 }, new() { 12, 380 }, new() { 29, 380 }, new() { 30, 380 }, },
                [6] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 35, 466 }, new() { 36, 467 }, new() { 37, 468 }, new() { 38, 468 }, new() { 39, 467 }, new() { 40, 468 }, new() { 41, 1633 }, new() { 42, 1634 }, new() { 43, 1635 }, new() { 44, 467 }, new() { 45, 468 }, new() { 46, 467 }, new() { 47, 468 }, },
                [7] = new() { new() { 9, 380 }, new() { 10, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 35, 491 }, new() { 36, 492 }, new() { 37, 493 }, new() { 38, 493 }, new() { 39, 492 }, new() { 40, 493 }, new() { 41, 1658 }, new() { 42, 1659 }, new() { 43, 1660 }, new() { 44, 492 }, new() { 45, 493 }, new() { 46, 492 }, new() { 47, 493 }, },
                [8] = new() { new() { 8, 380 }, new() { 9, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 516 }, new() { 36, 517 }, new() { 37, 518 }, new() { 38, 518 }, new() { 39, 517 }, new() { 40, 518 }, new() { 41, 1683 }, new() { 43, 1685 }, new() { 44, 517 }, new() { 45, 518 }, new() { 46, 517 }, new() { 47, 518 }, new() { 48, 380 }, },
                [9] = new() { new() { 7, 380 }, new() { 8, 380 }, new() { 35, 541 }, new() { 36, 542 }, new() { 37, 543 }, new() { 38, 543 }, new() { 39, 542 }, new() { 40, 543 }, new() { 41, 1708 }, new() { 43, 1710 }, new() { 44, 542 }, new() { 45, 543 }, new() { 46, 542 }, new() { 47, 543 }, new() { 48, 380 }, },
                [10] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [11] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [12] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [13] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [14] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [15] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [16] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [17] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [18] = new() { new() { 7, 380 }, new() { 48, 380 }, },
                [19] = new() { new() { 7, 380 }, new() { 8, 380 }, new() { 48, 380 }, },
                [20] = new() { new() { 8, 380 }, new() { 9, 380 }, new() { 48, 380 }, },
                [21] = new() { new() { 9, 380 }, new() { 10, 380 }, new() { 48, 380 }, },
                [22] = new() { new() { 10, 380 }, new() { 30, 380 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, },
                [23] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 29, 380 }, new() { 30, 380 }, new() { 39, 380 }, new() { 45, 380 }, },
                [24] = new() { new() { 12, 380 }, new() { 13, 380 }, new() { 28, 380 }, new() { 29, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [25] = new() { new() { 13, 380 }, new() { 28, 380 }, },
                [26] = new() { new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 380 }, new() { 26, 380 }, new() { 27, 380 }, new() { 28, 380 }, },
                [27] = new() { },
                [28] = new() { },
                [29] = new() { },


            };

            foreach (KeyValuePair<int, List<List<int>>> borderCode in borderCodes)
            {

                foreach (List<int> borderArray in borderCode.Value)
                {

                    buildings.Tiles[borderArray[0], borderCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, borderArray[1]);

                }

            }

            // ------------------------------------------------------
            // always front

            Dictionary<int, List<List<int>>> canopyCodes = new()
            {
                [0] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 946 }, new() { 21, 946 }, new() { 22, 946 }, new() { 23, 946 }, new() { 24, 946 }, new() { 25, 946 }, new() { 26, 946 }, new() { 27, 946 }, new() { 28, 946 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [1] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 946 }, new() { 21, 946 }, new() { 22, 946 }, new() { 23, 946 }, new() { 24, 946 }, new() { 25, 946 }, new() { 26, 946 }, new() { 27, 946 }, new() { 28, 946 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [2] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 940 }, new() { 14, 941 }, new() { 15, 942 }, new() { 16, 942 }, new() { 17, 943 }, new() { 18, 943 }, new() { 19, 942 }, new() { 20, 943 }, new() { 21, 943 }, new() { 22, 943 }, new() { 23, 942 }, new() { 24, 943 }, new() { 25, 943 }, new() { 26, 943 }, new() { 27, 944 }, new() { 28, 945 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [3] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 965 }, new() { 14, 966 }, new() { 15, 967 }, new() { 16, 967 }, new() { 17, 968 }, new() { 18, 968 }, new() { 19, 967 }, new() { 20, 968 }, new() { 21, 968 }, new() { 22, 968 }, new() { 23, 967 }, new() { 24, 968 }, new() { 25, 968 }, new() { 26, 968 }, new() { 27, 969 }, new() { 28, 970 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [4] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 990 }, new() { 14, 991 }, new() { 27, 994 }, new() { 28, 995 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [5] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 940 }, new() { 11, 941 }, new() { 12, 942 }, new() { 13, 942 }, new() { 14, 1016 }, new() { 27, 1019 }, new() { 28, 995 }, new() { 29, 943 }, new() { 30, 944 }, new() { 31, 945 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 940 }, new() { 35, 941 }, new() { 36, 942 }, new() { 37, 943 }, new() { 38, 942 }, new() { 39, 943 }, new() { 40, 942 }, new() { 41, 943 }, new() { 42, 942 }, new() { 43, 943 }, new() { 44, 942 }, new() { 45, 943 }, new() { 46, 943 }, new() { 47, 944 }, new() { 48, 945 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [6] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 965 }, new() { 11, 966 }, new() { 12, 967 }, new() { 13, 968 }, new() { 14, 992 }, new() { 27, 993 }, new() { 28, 968 }, new() { 29, 968 }, new() { 30, 969 }, new() { 31, 970 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 965 }, new() { 35, 966 }, new() { 36, 967 }, new() { 37, 968 }, new() { 38, 967 }, new() { 39, 968 }, new() { 40, 967 }, new() { 41, 968 }, new() { 42, 967 }, new() { 43, 968 }, new() { 44, 967 }, new() { 45, 968 }, new() { 46, 968 }, new() { 47, 969 }, new() { 48, 970 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [7] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 990 }, new() { 11, 991 }, new() { 30, 994 }, new() { 31, 995 }, new() { 32, 942 }, new() { 33, 943 }, new() { 34, 990 }, new() { 35, 991 }, new() { 47, 994 }, new() { 48, 995 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [8] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 940 }, new() { 8, 941 }, new() { 9, 942 }, new() { 10, 990 }, new() { 11, 991 }, new() { 30, 993 }, new() { 31, 968 }, new() { 32, 967 }, new() { 33, 968 }, new() { 34, 967 }, new() { 35, 992 }, new() { 47, 1019 }, new() { 48, 1020 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [9] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 965 }, new() { 8, 966 }, new() { 9, 967 }, new() { 10, 967 }, new() { 11, 992 }, new() { 47, 1019 }, new() { 48, 1020 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [10] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 990 }, new() { 8, 991 }, new() { 47, 994 }, new() { 48, 995 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [11] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 1015 }, new() { 8, 1016 }, new() { 47, 1019 }, new() { 48, 1020 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [12] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 990 }, new() { 8, 991 }, new() { 47, 994 }, new() { 48, 995 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [13] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 1015 }, new() { 8, 1016 }, new() { 47, 1019 }, new() { 48, 1020 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [14] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 990 }, new() { 8, 991 }, new() { 47, 994 }, new() { 48, 995 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [15] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 1015 }, new() { 8, 1016 }, new() { 47, 994 }, new() { 48, 995 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [16] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 990 }, new() { 8, 991 }, new() { 47, 1019 }, new() { 48, 1020 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [17] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 1015 }, new() { 8, 1016 }, new() { 47, 994 }, new() { 48, 995 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [18] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 1015 }, new() { 8, 1016 }, new() { 47, 994 }, new() { 48, 995 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [19] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 1040 }, new() { 8, 1041 }, new() { 9, 1042 }, new() { 10, 1043 }, new() { 11, 1017 }, new() { 47, 1019 }, new() { 48, 1020 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [20] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 1065 }, new() { 8, 1066 }, new() { 9, 1067 }, new() { 10, 1015 }, new() { 11, 991 }, new() { 47, 1019 }, new() { 48, 1020 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [21] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 1015 }, new() { 11, 1016 }, new() { 29, 1018 }, new() { 30, 1043 }, new() { 31, 1042 }, new() { 32, 1043 }, new() { 33, 1043 }, new() { 34, 1042 }, new() { 35, 1042 }, new() { 36, 1043 }, new() { 37, 1043 }, new() { 38, 1043 }, new() { 39, 1042 }, new() { 40, 1017 }, new() { 44, 1018 }, new() { 45, 1042 }, new() { 46, 1043 }, new() { 47, 1044 }, new() { 48, 1045 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [22] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 1040 }, new() { 11, 1041 }, new() { 12, 1042 }, new() { 13, 1043 }, new() { 14, 1017 }, new() { 29, 1019 }, new() { 30, 1068 }, new() { 31, 1067 }, new() { 32, 1068 }, new() { 33, 1068 }, new() { 34, 1067 }, new() { 35, 1067 }, new() { 36, 1068 }, new() { 37, 1068 }, new() { 38, 1068 }, new() { 39, 1015 }, new() { 40, 1016 }, new() { 44, 1019 }, new() { 45, 1020 }, new() { 46, 1068 }, new() { 47, 1069 }, new() { 48, 1070 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [23] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 1065 }, new() { 11, 1066 }, new() { 12, 1067 }, new() { 13, 1067 }, new() { 14, 991 }, new() { 27, 1019 }, new() { 28, 1043 }, new() { 29, 1044 }, new() { 30, 1070 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 1040 }, new() { 40, 1041 }, new() { 41, 1042 }, new() { 42, 1042 }, new() { 43, 1043 }, new() { 44, 1044 }, new() { 45, 1045 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [24] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 1015 }, new() { 14, 1016 }, new() { 25, 1018 }, new() { 26, 1043 }, new() { 27, 1044 }, new() { 28, 1068 }, new() { 29, 1069 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 1065 }, new() { 40, 1066 }, new() { 41, 1067 }, new() { 42, 1067 }, new() { 43, 1068 }, new() { 44, 1069 }, new() { 45, 1070 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [25] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 1040 }, new() { 14, 1041 }, new() { 15, 1042 }, new() { 16, 1042 }, new() { 17, 1043 }, new() { 18, 1042 }, new() { 19, 1043 }, new() { 20, 1042 }, new() { 21, 1043 }, new() { 22, 1042 }, new() { 23, 1042 }, new() { 24, 1043 }, new() { 25, 1044 }, new() { 26, 1068 }, new() { 27, 1069 }, new() { 28, 1070 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [26] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 1065 }, new() { 14, 1066 }, new() { 15, 1067 }, new() { 16, 1067 }, new() { 17, 1068 }, new() { 18, 1067 }, new() { 19, 1068 }, new() { 20, 1067 }, new() { 21, 1068 }, new() { 22, 1067 }, new() { 23, 1067 }, new() { 24, 1068 }, new() { 25, 1069 }, new() { 26, 1070 }, new() { 27, 946 }, new() { 28, 946 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [27] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 946 }, new() { 21, 946 }, new() { 22, 946 }, new() { 23, 946 }, new() { 24, 946 }, new() { 25, 946 }, new() { 26, 946 }, new() { 27, 946 }, new() { 28, 946 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [28] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 946 }, new() { 21, 946 }, new() { 22, 946 }, new() { 23, 946 }, new() { 24, 946 }, new() { 25, 946 }, new() { 26, 946 }, new() { 27, 946 }, new() { 28, 946 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },
                [29] = new() { new() { 0, 946 }, new() { 1, 946 }, new() { 2, 946 }, new() { 3, 946 }, new() { 4, 946 }, new() { 5, 946 }, new() { 6, 946 }, new() { 7, 946 }, new() { 8, 946 }, new() { 9, 946 }, new() { 10, 946 }, new() { 11, 946 }, new() { 12, 946 }, new() { 13, 946 }, new() { 14, 946 }, new() { 15, 946 }, new() { 16, 946 }, new() { 17, 946 }, new() { 18, 946 }, new() { 19, 946 }, new() { 20, 946 }, new() { 21, 946 }, new() { 22, 946 }, new() { 23, 946 }, new() { 24, 946 }, new() { 25, 946 }, new() { 26, 946 }, new() { 27, 946 }, new() { 28, 946 }, new() { 29, 946 }, new() { 30, 946 }, new() { 31, 946 }, new() { 32, 946 }, new() { 33, 946 }, new() { 34, 946 }, new() { 35, 946 }, new() { 36, 946 }, new() { 37, 946 }, new() { 38, 946 }, new() { 39, 946 }, new() { 40, 946 }, new() { 41, 946 }, new() { 42, 946 }, new() { 43, 946 }, new() { 44, 946 }, new() { 45, 946 }, new() { 46, 946 }, new() { 47, 946 }, new() { 48, 946 }, new() { 49, 946 }, new() { 50, 946 }, new() { 51, 946 }, new() { 52, 946 }, new() { 53, 946 }, new() { 54, 946 }, new() { 55, 946 }, },

            };

            foreach (KeyValuePair<int, List<List<int>>> canopyCode in canopyCodes)
            {

                foreach (List<int> canopyArray in canopyCode.Value)
                {

                    alwaysfront.Tiles[canopyArray[0], canopyCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, canopyArray[1]);

                }

            }


            // ------------------------------------------------------
            // location tiles

            // ------------------------------------------------------
            // outdoor terrain

            Dictionary<int, List<List<int>>> codes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { },
                [3] = new() { },
                [4] = new() { new() { 14, 9 }, new() { 26, 9 }, },
                [5] = new() { },
                [6] = new() { },
                [7] = new() { new() { 11, 9 }, new() { 29, 9 }, },
                [8] = new() { },
                [9] = new() { new() { 31, 10 }, new() { 33, 10 }, new() { 46, 9 }, },
                [10] = new() { new() { 8, 9 }, },
                [11] = new() { new() { 46, 9 }, },
                [12] = new() { },
                [13] = new() { },
                [14] = new() { new() { 8, 10 }, },
                [15] = new() { },
                [16] = new() { },
                [17] = new() { },
                [18] = new() { new() { 8, 10 }, },
                [19] = new() { new() { 46, 10 }, },
                [20] = new() { },
                [21] = new() { new() { 46, 10 }, },
                [22] = new() { new() { 11, 9 }, new() { 31, 10 }, new() { 33, 10 }, new() { 35, 10 }, new() { 37, 10 }, },
                [23] = new() { new() { 28, 9 }, },
                [24] = new() { },
                [25] = new() { new() { 14, 9 }, new() { 26, 9 }, },
                [26] = new() { },
                [27] = new() { },
                [28] = new() { },
                [29] = new() { },


            };

            //if (Mod.instance.iconData.sheetTextures.ContainsKey(IconData.tilesheets.outdoors))
            if (Context.IsMainPlayer)
            {

                foreach (KeyValuePair<int, List<List<int>>> code in codes)
                {

                    foreach (List<int> array in code.Value)
                    {

                        Vector2 bushVector = new(array[0], code.Key);

                        Bush newBush = new(bushVector, array[1] == 10 ? 1 : 2, this);

                        largeTerrainFeatures.Add(newBush);

                    }

                }

            }

            // grove tilesheet terrain

            codes = new()
            {

                [6] = new() { },
                [7] = new() { new() { 20, 2 }, },
                [8] = new() { new() { 23, 3 }, },
                [9] = new() { new() { 17, 4 }, },
                [10] = new() { },
                [11] = new() { },
                [12] = new() { new() { 14, 5 }, },
                [13] = new() { },
                [14] = new() { new() { 26, 8 }, },
                [15] = new() { },
                [16] = new() { new() { 24, 6 }, new() { 32, 9 }, },
                [17] = new() { },
                [18] = new() { new() { 15, 7 }, },
                [19] = new() { },
                [20] = new() { },
                [21] = new() { },
                [22] = new() { new() { 18, 1 }, },
                [23] = new() { },


            };

            if (Mod.instance.iconData.sheetTextures.ContainsKey(tilesheets.grove))
            {

                foreach (KeyValuePair<int, List<List<int>>> code in codes)
                {

                    foreach (List<int> array in code.Value)
                    {

                        TerrainField tField = new(tilesheets.grove, array[1], new Vector2(array[0], code.Key) * 64, TerrainField.shadows.deepset);

                        foreach (Vector2 bottom in tField.baseTiles)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, outdoor, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);


                        }

                        terrainFields.Add(tField);

                    }

                }

            }

            codes = new()
            {
                [5] = new() { new() { 28, 1 }, },
            };

            if (Mod.instance.iconData.sheetTextures.ContainsKey(tilesheets.magnolia))
            {

                foreach (KeyValuePair<int, List<List<int>>> code in codes)
                {

                    foreach (List<int> array in code.Value)
                    {

                        Magnolia magnolia = new(new Vector2(array[0], code.Key) * 64);

                        magnolia.AddLitter();

                        foreach (Vector2 bottom in magnolia.baseTiles)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, outdoor, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);

                        }

                        terrainFields.Add(magnolia);

                        frontFields.Add(magnolia);

                    }

                }

            }

            // CIRCLE

            if (Mod.instance.Config.decorateGrove)
            {

                TerrainField circleTile = new(tilesheets.ritual, 1, new Vector2(1120, 812), TerrainField.shadows.none);

                switch (Game1.season)
                {
                    case Season.Spring:
                        circleTile.color = Microsoft.Xna.Framework.Color.White * 0.6f;

                        break;
                    case Season.Summer:
                        circleTile.color = Microsoft.Xna.Framework.Color.White * 0.75f;

                        break;
                    case Season.Fall:
                        circleTile.color = Microsoft.Xna.Framework.Color.White * 0.5f;

                        break;
                    case Season.Winter:
                        circleTile.color = Microsoft.Xna.Framework.Color.LightBlue * 0.75f;

                        break;
                }


                circleTile.fadeout = 1f;

                circleTile.layer = 0.00064f;

                terrainFields.Add(circleTile);

            }

            // LIGHTS

            codes = new()
            {
                [6] = new() { },
                [7] = new() { new() { 20, 3 }, },
                [8] = new() { new() { 23, 3 }, },
                [9] = new() { new() { 17, 3 }, },
                [10] = new() { },
                [11] = new() { },
                [12] = new() { },
                [13] = new() { },
                [14] = new() { new() { 14, 3 }, new() { 26, 3 }, },
                [15] = new() { },
                [16] = new() { },
                [17] = new() { new() { 24, 3 }, new() { 33, 3 }, },
                [18] = new() { new() { 16, 3 }, },
                [19] = new() { },
                [20] = new() { },
                [21] = new() { },
                [22] = new() { },
                [23] = new() { new() { 20, 4 }, },
                [24] = new() { },


            };

            lightFields = new();

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    LightField light = new(new Vector2(array[0], code.Key) * 64 + new Vector2(48, 32));

                    light.colour = Microsoft.Xna.Framework.Color.LightBlue;

                    light.luminosity = array[1];

                    light.lightTimer = 1900;

                    lightFields.Add(light);

                }

            }

            lightFields.Add(new(new Vector2(21, 3) * 64, 6, Microsoft.Xna.Framework.Color.LightGoldenrodYellow));

            addDialogue();

            this.map = newMap;

        }

        public override void UpdateMapSeats()
        {
            base.UpdateMapSeats();

            MapSeat seat = new();

            seat.tilePosition.Set(new Vector2(32, 17));

            seat.size.Set(new Vector2(4, 1));

            seat.direction.Set(2);

            seat.drawTilePosition.Set(new Vector2(-1));

            seat.seatType.Set("GroveBench");

            mapSeats.Add(seat);

        }

        public override bool readyDialogue()
        {

            return Mod.instance.questHandle.IsComplete(QuestHandle.swordWeald);

        }

        public override void addDialogue()
        {

            if (dialogueTiles.Count > 0) { return; }

            dialogueTiles.Add(new(20, 8), CharacterHandle.characters.energies);

            dialogueTiles.Add(new(21, 8), CharacterHandle.characters.energies);

            dialogueTiles.Add(new(20, 9), CharacterHandle.characters.energies);

            dialogueTiles.Add(new(21, 9), CharacterHandle.characters.energies);

            dialogueTiles.Add(new(20, 10), CharacterHandle.characters.energies);

            dialogueTiles.Add(new(21, 10), CharacterHandle.characters.energies);

            dialogueTiles.Add(new(19, 22), CharacterHandle.characters.herbalism);

            dialogueTiles.Add(new(20, 22), CharacterHandle.characters.herbalism);

            dialogueTiles.Add(new(21, 22), CharacterHandle.characters.herbalism);

            dialogueTiles.Add(new(22, 22), CharacterHandle.characters.herbalism);

            dialogueTiles.Add(new(19, 23), CharacterHandle.characters.herbalism);

            dialogueTiles.Add(new(20, 23), CharacterHandle.characters.herbalism);

            dialogueTiles.Add(new(21, 23), CharacterHandle.characters.herbalism);

            dialogueTiles.Add(new(22, 23), CharacterHandle.characters.herbalism);

        }

        public override void performTenMinuteUpdate(int timeOfDay)
        {

            base.performTenMinuteUpdate(timeOfDay);

            GameLocation farmLocation = Game1.getFarm();

            if (farmLocation.warps[0].TargetName != Name)
            {

                updateWarps();

            }

        }


        public override void updateWarps()
        {

            warps.Clear();

            warps.Add(new Warp(20, 3, LocationHandle.druid_gate_name, 27, 33, flipFarmer: false));

            warps.Add(new Warp(21, 3, LocationHandle.druid_gate_name, 27, 33, flipFarmer: false));

            warps.Add(new Warp(22, 3, LocationHandle.druid_gate_name, 27, 33, flipFarmer: false));

            warps.Add(new Warp(23, 3, LocationHandle.druid_gate_name, 27, 33, flipFarmer: false));

            // Farm warps

            GameLocation farmLocation = Game1.getFarm();

            GameLocation caveLocation = Game1.getLocationFromName("FarmCave");

            int farmX = 34;

            int farmY = 5;

            int caveX = 8;

            int caveY = 12;

            for (int w = farmLocation.warps.Count - 1; w >= 0; w--)
            {

                Warp tryWarp = farmLocation.warps[w];

                if (tryWarp.TargetName == LocationHandle.druid_grove_name)
                {

                    farmX = tryWarp.X;

                    farmY = tryWarp.Y;

                    farmLocation.warps.RemoveAt(w);

                    continue;

                }

                GameLocation tryLocation = Game1.getLocationFromName(tryWarp.TargetName);

                if (tryLocation == null)
                {

                    continue;

                }

                if (tryLocation is FarmCave)
                {

                    caveLocation = tryLocation;

                    farmX = tryWarp.X;

                    farmY = tryWarp.Y;

                }

            }

            if (caveLocation == null)
            {

                return;

            }

            for (int w = 0; w < caveLocation.warps.Count; w++)
            {

                Warp tryWarp = caveLocation.warps[w];

                if (tryWarp.TargetName == LocationHandle.druid_grove_name)
                {

                    caveX = tryWarp.X;

                    caveY = tryWarp.Y;

                    caveLocation.warps.RemoveAt(w);

                    continue;

                }

                GameLocation tryLocation = Game1.getLocationFromName(tryWarp.TargetName);

                if (tryLocation == null)
                {

                    continue;

                }

                if (tryLocation is Farm)
                {

                    caveX = tryWarp.X;

                    caveY = tryWarp.Y;

                }

            }


            farmLocation.warps.Insert(0, new(farmX, farmY, LocationHandle.druid_grove_name, 42, 20, flipFarmer: false));

            caveLocation.warps.Insert(0, new(caveX, caveY, LocationHandle.druid_grove_name, 42, 11, flipFarmer: false));

            warps.Add(new Warp(41, 23, farmLocation.Name, farmX, farmY + 2, flipFarmer: false));

            warps.Add(new Warp(42, 23, farmLocation.Name, farmX, farmY + 2, flipFarmer: false));

            warps.Add(new Warp(43, 23, farmLocation.Name, farmX, farmY + 2, flipFarmer: false));

            warps.Add(new Warp(42, 8, caveLocation.Name, caveX, caveY - 2, flipFarmer: false));


        }

    }

}
