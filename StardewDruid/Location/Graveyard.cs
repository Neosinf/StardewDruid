using StardewValley;
using StardewValley.Locations;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using xTile.Layers;
using xTile.Tiles;
using Microsoft.Xna.Framework;
using StardewModdingAPI;
using StardewValley.Buildings;
using System.Drawing;
using StardewValley.Objects;
using System.Runtime.Intrinsics.X86;
using StardewValley.GameData.Locations;
using Microsoft.Xna.Framework.Graphics;
using StardewValley.TerrainFeatures;
using System.Threading;
using System.Xml.Serialization;
using StardewDruid.Character;
using StardewDruid.Data;
using xTile.Dimensions;
using static StardewValley.Menus.InventoryMenu;
using StardewValley.Extensions;
using StardewValley.BellsAndWhistles;

namespace StardewDruid.Location
{

    public class Graveyard : DruidLocation
    {

        public List<Location.LightField> candleFields = new();

        public Graveyard() { }

        public Graveyard(string Name)
            : base(Name) 
        {

        }
        public override void draw(SpriteBatch b)
        {

            base.draw(b);

            if (Mod.instance.save.restoration[LocationData.druid_graveyard_name] >= 1)
            {

                foreach (Location.LightField light in candleFields)
                {

                    light.draw(b);

                }

            }

        }

        public override void OnMapLoad(xTile.Map map)
        {


            xTile.Dimensions.Size tileSize = map.GetLayer("Back").TileSize;

            xTile.Map newMap = new(map.Id);

            Layer back = new("Back", newMap, new(56, 36), tileSize);

            newMap.AddLayer(back);

            Layer buildings = new("Buildings", newMap, new(56, 36), tileSize);

            newMap.AddLayer(buildings);

            Layer front = new("Front", newMap, new(56, 36), tileSize);

            newMap.AddLayer(front);

            Layer alwaysfront = new("AlwaysFront", newMap, new(56, 36), tileSize);

            newMap.AddLayer(alwaysfront);

            TileSheet outdoor = new(LocationData.druid_grove_name+"_outdoors", newMap, "Maps\\spring_outdoorsTileSheet", new(25,79), tileSize);
            
            newMap.AddTileSheet(outdoor); //map.TileSheets[1].ImageSource

            TileSheet gatesheet = new(
                newMap,
                "StardewDruid.Tilesheets.graveyard",
                new(
                    Mod.instance.iconData.sheetTextures[IconData.tilesheets.graveyard].Width / 16,
                    Mod.instance.iconData.sheetTextures[IconData.tilesheets.graveyard].Height / 16
                ),
                new(16, 16)
            );

            newMap.AddTileSheet(gatesheet);

            IsOutdoors = true;

            ignoreOutdoorLighting.Set(false);

            // -----------------------------------------------------
            // normal ground

            Dictionary<int, List<List<int>>> groundCodes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { },
                [3] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [4] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [5] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [6] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [7] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [8] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [9] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [10] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 357 }, new() { 24, 405 }, new() { 25, 406 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 404 }, new() { 31, 407 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [11] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 357 }, new() { 23, 406 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 404 }, new() { 32, 405 }, new() { 33, 407 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [12] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 357 }, new() { 22, 406 }, new() { 23, 351 }, new() { 24, 304 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 404 }, new() { 34, 405 }, new() { 35, 407 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [13] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 357 }, new() { 20, 405 }, new() { 21, 406 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 353 }, new() { 27, 377 }, new() { 28, 375 }, new() { 29, 403 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 379 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [14] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 357 }, new() { 16, 405 }, new() { 17, 405 }, new() { 18, 405 }, new() { 19, 406 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 353 }, new() { 26, 377 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 375 }, new() { 30, 403 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 300 }, new() { 34, 351 }, new() { 35, 404 }, new() { 36, 405 }, new() { 37, 405 }, new() { 38, 405 }, new() { 39, 405 }, new() { 40, 407 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [15] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 300 }, new() { 22, 351 }, new() { 23, 353 }, new() { 24, 376 }, new() { 25, 377 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 375 }, new() { 31, 376 }, new() { 32, 403 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [16] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 353 }, new() { 19, 376 }, new() { 20, 376 }, new() { 21, 376 }, new() { 22, 376 }, new() { 23, 377 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 375 }, new() { 33, 376 }, new() { 34, 376 }, new() { 35, 376 }, new() { 36, 376 }, new() { 37, 403 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [17] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 352 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 350 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [18] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 352 }, new() { 19, 175 }, new() { 20, 175 }, new() { 21, 175 }, new() { 22, 175 }, new() { 23, 175 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 175 }, new() { 33, 175 }, new() { 34, 175 }, new() { 35, 175 }, new() { 36, 175 }, new() { 37, 350 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [19] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 378 }, new() { 19, 326 }, new() { 20, 326 }, new() { 21, 326 }, new() { 22, 326 }, new() { 23, 327 }, new() { 24, 175 }, new() { 25, 175 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 175 }, new() { 31, 175 }, new() { 32, 325 }, new() { 33, 326 }, new() { 34, 326 }, new() { 35, 326 }, new() { 36, 326 }, new() { 37, 328 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [20] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 381 }, new() { 16, 351 }, new() { 17, 351 }, new() { 18, 351 }, new() { 19, 351 }, new() { 20, 351 }, new() { 21, 351 }, new() { 22, 304 }, new() { 23, 378 }, new() { 24, 326 }, new() { 25, 327 }, new() { 26, 175 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 325 }, new() { 31, 326 }, new() { 32, 328 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 351 }, new() { 36, 351 }, new() { 37, 351 }, new() { 38, 351 }, new() { 39, 351 }, new() { 40, 379 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [21] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 382 }, new() { 16, 355 }, new() { 17, 355 }, new() { 18, 355 }, new() { 19, 355 }, new() { 20, 355 }, new() { 21, 356 }, new() { 22, 351 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 378 }, new() { 26, 327 }, new() { 27, 175 }, new() { 28, 175 }, new() { 29, 175 }, new() { 30, 350 }, new() { 31, 351 }, new() { 32, 351 }, new() { 33, 351 }, new() { 34, 351 }, new() { 35, 354 }, new() { 36, 355 }, new() { 37, 355 }, new() { 38, 355 }, new() { 39, 355 }, new() { 40, 332 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [22] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 382 }, new() { 22, 356 }, new() { 23, 351 }, new() { 24, 351 }, new() { 25, 351 }, new() { 26, 378 }, new() { 27, 327 }, new() { 28, 325 }, new() { 29, 326 }, new() { 30, 328 }, new() { 31, 304 }, new() { 32, 351 }, new() { 33, 354 }, new() { 34, 355 }, new() { 35, 332 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [23] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 382 }, new() { 23, 356 }, new() { 24, 351 }, new() { 25, 300 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 354 }, new() { 33, 332 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [24] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 382 }, new() { 24, 356 }, new() { 25, 351 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 351 }, new() { 31, 351 }, new() { 32, 379 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [25] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 382 }, new() { 25, 356 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 354 }, new() { 31, 355 }, new() { 32, 332 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [26] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 356 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [27] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [28] = new() { new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, },
                [29] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [30] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [31] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [32] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [33] = new() { new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, },
                [34] = new() { },
                [35] = new() { },


            };

            foreach (KeyValuePair<int, List<List<int>>> groundCode in groundCodes)
            {

                foreach (List<int> groundArray in groundCode.Value)
                {

                    back.Tiles[groundArray[0], groundCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, groundArray[1]);
                    back.Tiles[groundArray[0], groundCode.Key].TileIndexProperties.Add("Type", "Grass");
                }

            }


            // ------------------------------------------------------
            // building

            Dictionary<int, List<List<int>>> borderCodes = new()
            {
                [0] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [1] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [2] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [3] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [4] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [5] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [6] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [7] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [8] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [9] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [10] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [11] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [12] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [13] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [14] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [15] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [16] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [17] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [18] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [19] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [20] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [21] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [22] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [23] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [24] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [25] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [26] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [27] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [28] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [29] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [30] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [31] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [32] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [33] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [34] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },
                [35] = new() { new() { 0, 380 }, new() { 1, 380 }, new() { 2, 380 }, new() { 3, 380 }, new() { 4, 380 }, new() { 5, 380 }, new() { 6, 380 }, new() { 7, 380 }, new() { 8, 380 }, new() { 9, 380 }, new() { 10, 380 }, new() { 11, 380 }, new() { 12, 380 }, new() { 13, 380 }, new() { 14, 380 }, new() { 15, 380 }, new() { 16, 380 }, new() { 17, 380 }, new() { 18, 380 }, new() { 19, 380 }, new() { 20, 380 }, new() { 21, 380 }, new() { 22, 380 }, new() { 23, 380 }, new() { 24, 380 }, new() { 25, 381 }, new() { 26, 351 }, new() { 27, 352 }, new() { 28, 350 }, new() { 29, 351 }, new() { 30, 379 }, new() { 31, 380 }, new() { 32, 380 }, new() { 33, 380 }, new() { 34, 380 }, new() { 35, 380 }, new() { 36, 380 }, new() { 37, 380 }, new() { 38, 380 }, new() { 39, 380 }, new() { 40, 380 }, new() { 41, 380 }, new() { 42, 380 }, new() { 43, 380 }, new() { 44, 380 }, new() { 45, 380 }, new() { 46, 380 }, new() { 47, 380 }, new() { 48, 380 }, new() { 49, 380 }, new() { 50, 380 }, new() { 51, 380 }, new() { 52, 380 }, new() { 53, 380 }, new() { 54, 380 }, new() { 55, 380 }, },

            };

            foreach (KeyValuePair<int, List<List<int>>> borderCode in borderCodes)
            {

                foreach (List<int> borderArray in borderCode.Value)
                {

                    buildings.Tiles[borderArray[0], borderCode.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, borderArray[1]);

                }

            }

            // ------------------------------------------------------
            // always front

            Dictionary<int, List<List<int>>> codes = new()
            {
                [0] = new() { new() { 6, 232 }, new() { 14, 117 }, new() { 20, 257 }, new() { 24, 307 }, new() { 34, 257 }, new() { 43, 232 }, new() { 48, 282 }, new() { 55, 307 }, },
                [1] = new() { },
                [2] = new() { new() { 1, 257 }, },
                [3] = new() { new() { 9, 307 }, },
                [4] = new() { new() { 48, 232 }, new() { 52, 232 }, },
                [5] = new() { new() { 4, 232 }, new() { 7, 257 }, new() { 46, 257 }, },
                [6] = new() { },
                [7] = new() { },
                [8] = new() { new() { 52, 282 }, },
                [9] = new() { },
                [10] = new() { },
                [11] = new() { new() { 54, 232 }, },
                [12] = new() { new() { 1, 307 }, new() { 51, 307 }, },
                [13] = new() { new() { 4, 282 }, },
                [14] = new() { },
                [15] = new() { },
                [16] = new() { new() { 1, 232 }, },
                [17] = new() { new() { 54, 307 }, },
                [18] = new() { },
                [19] = new() { new() { 52, 232 }, },
                [20] = new() { new() { 3, 307 }, },
                [21] = new() { },
                [22] = new() { new() { 54, 257 }, },
                [23] = new() { new() { 1, 282 }, },
                [24] = new() { },
                [25] = new() { new() { 3, 257 }, new() { 51, 282 }, },
                [26] = new() { },
                [27] = new() { new() { 1, 307 }, },
                [28] = new() { new() { 53, 232 }, },
                [29] = new() { new() { 9, 232 }, },
                [30] = new() { new() { 52, 257 }, },
                [31] = new() { new() { 7, 282 }, },
                [32] = new() { new() { 55, 282 }, },
                [33] = new() { new() { 3, 232 }, },
                [34] = new() { new() { 10, 307 }, new() { 19, 232 }, new() { 39, 117 }, new() { 46, 232 }, },
                [35] = new() { new() { 1, 307 }, new() { 6, 257 }, new() { 23, 282 }, new() { 34, 232 }, new() { 43, 257 }, new() { 50, 307 }, },

            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> codeArray in code.Value)
                {
                    
                    back.Tiles[codeArray[0], code.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, buildings.Tiles[codeArray[0], code.Key].TileIndex);

                    buildings.Tiles[codeArray[0], code.Key] = new StaticTile(back, outdoor, BlendMode.Alpha, codeArray[1]);

                }

            }

            codes = new()
            {
                [0] = new() { new() { 0, 10 }, new() { 2, 7 }, new() { 6, 8 }, new() { 8, 4 }, new() { 11, 2 }, new() { 12, 9 }, new() { 15, 8 }, new() { 19, 2 }, new() { 21, 6 }, new() { 23, 4 }, new() { 24, 10 }, new() { 31, 9 }, new() { 34, 2 }, new() { 35, 10 }, new() { 37, 8 }, new() { 39, 12 }, new() { 41, 9 }, new() { 44, 10 }, new() { 46, 2 }, new() { 49, 8 }, new() { 54, 10 }, },
                [1] = new() { new() { 5, 11 }, new() { 52, 3 }, },
                [2] = new() { new() { 47, 1 }, },
                [3] = new() { new() { 0, 1 }, new() { 51, 9 }, },
                [4] = new() { new() { 3, 8 }, new() { 46, 9 }, },
                [5] = new() { new() { 2, 9 }, new() { 7, 12 }, new() { 53, 4 }, },
                [6] = new() { new() { 48, 2 }, },
                [7] = new() { new() { 1, 2 }, new() { 53, 1 }, },
                [8] = new() { },
                [9] = new() { new() { 0, 10 }, new() { 2, 7 }, new() { 51, 9 }, },
                [10] = new() { },
                [11] = new() { new() { 54, 2 }, },
                [12] = new() { new() { 1, 5 }, new() { 3, 10 }, new() { 52, 1 }, },
                [13] = new() { },
                [14] = new() { },
                [15] = new() { new() { 0, 10 }, new() { 54, 10 }, },
                [16] = new() { new() { 2, 6 }, new() { 53, 2 }, },
                [17] = new() { new() { 51, 5 }, },
                [18] = new() { },
                [19] = new() { new() { 0, 3 }, new() { 2, 9 }, new() { 51, 9 }, },
                [20] = new() { },
                [21] = new() { new() { 52, 6 }, },
                [22] = new() { },
                [23] = new() { new() { 1, 4 }, new() { 51, 10 }, },
                [24] = new() { new() { 3, 10 }, new() { 53, 7 }, },
                [25] = new() { new() { 1, 7 }, },
                [26] = new() { new() { 3, 10 }, new() { 51, 9 }, },
                [27] = new() { new() { 48, 3 }, },
                [28] = new() { new() { 5, 7 }, new() { 54, 8 }, },
                [29] = new() { new() { 0, 11 }, new() { 2, 8 }, new() { 46, 9 }, new() { 51, 1 }, },
                [30] = new() { new() { 7, 9 }, },
                [31] = new() { new() { 49, 4 }, new() { 53, 9 }, },
                [32] = new() { new() { 6, 8 }, new() { 8, 3 }, new() { 11, 7 }, new() { 13, 5 }, new() { 17, 3 }, new() { 22, 1 }, new() { 31, 7 }, new() { 38, 1 }, new() { 40, 5 }, new() { 48, 1 }, },
                [33] = new() { new() { 2, 12 }, new() { 19, 1 }, new() { 35, 3 }, new() { 45, 3 }, new() { 52, 2 }, },
                [34] = new() { new() { 0, 10 }, new() { 5, 1 }, new() { 7, 9 }, new() { 16, 9 }, new() { 24, 10 }, new() { 30, 10 }, new() { 33, 10 }, new() { 42, 9 }, new() { 47, 9 }, new() { 54, 10 }, },
                [35] = new() { },


            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {

                    TerrainTile tTile = new(IconData.tilesheets.outdoors, array[1], new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.leafy, array[0] > 27);

                    foreach (Vector2 bottom in tTile.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {

                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);

                        }

                    }

                    terrainTiles.Add(tTile);

                }

            }

            // graves and tombs
            codes = new()
            {
                [0] = new() { },
                [1] = new() { new() { 10, 1 }, new() { 11, 5 }, new() { 13, 28 }, new() { 15, 2 }, new() { 16, 5 }, new() { 20, 2 }, new() { 21, 5 }, new() { 25, 7 }, new() { 31, 5 }, new() { 35, 2 }, new() { 36, 5 }, new() { 37, 28 }, new() { 40, 2 }, new() { 41, 5 }, new() { 45, 3 }, },
                [2] = new() { new() { 10, 6 }, new() { 13, 29 }, new() { 23, 19 }, new() { 32, 19 }, new() { 37, 29 }, new() { 45, 6 }, },
                [3] = new() { },
                [4] = new() { },
                [5] = new() { new() { 35, 10 }, },
                [6] = new() { new() { 5, 1 }, new() { 6, 5 }, new() { 10, 3 }, new() { 13, 28 }, new() { 19, 12 }, new() { 37, 28 }, new() { 45, 1 }, new() { 46, 5 }, new() { 50, 3 }, },
                [7] = new() { new() { 5, 6 }, new() { 12, 30 }, new() { 21, 12 }, new() { 34, 9 }, new() { 36, 30 }, new() { 50, 6 }, },
                [8] = new() { new() { 15, 13 }, new() { 19, 12 }, new() { 39, 25 }, },
                [9] = new() { new() { 22, 19 }, new() { 33, 19 }, new() { 35, 8 }, },
                [10] = new() { new() { 8, 11 }, new() { 45, 11 }, },
                [11] = new() { new() { 5, 4 }, new() { 50, 4 }, },
                [12] = new() { new() { 5, 6 }, new() { 19, 26 }, new() { 34, 26 }, new() { 50, 6 }, },
                [13] = new() { },
                [14] = new() { new() { 7, 15 }, new() { 11, 22 }, new() { 42, 15 }, new() { 46, 22 }, },
                [15] = new() { new() { 16, 19 }, new() { 39, 19 }, },
                [16] = new() { new() { 5, 4 }, new() { 50, 4 }, },
                [17] = new() { new() { 5, 6 }, new() { 7, 16 }, new() { 11, 23 }, new() { 42, 16 }, new() { 46, 23 }, new() { 50, 6 }, },
                [18] = new() { },
                [19] = new() { new() { 12, 20 }, new() { 41, 20 }, },
                [20] = new() { new() { 9, 18 }, new() { 16, 118 }, new() { 38, 17 }, new() { 45, 17 }, },
                [21] = new() { new() { 5, 4 }, new() { 22, 19 }, new() { 33, 19 }, new() { 50, 4 }, },
                [22] = new() { new() { 5, 6 }, new() { 50, 6 }, },
                [23] = new() { },
                [24] = new() { },
                [25] = new() { new() { 13, 9 }, new() { 17, 9 }, new() { 21, 8 }, new() { 34, 10 }, new() { 38, 10 }, new() { 42, 8 }, },
                [26] = new() { new() { 5, 1 }, new() { 6, 5 }, new() { 10, 3 }, new() { 15, 10 }, new() { 19, 10 }, new() { 33, 9 }, new() { 37, 8 }, new() { 40, 9 }, new() { 45, 1 }, new() { 46, 5 }, new() { 50, 3 }, },
                [27] = new() { new() { 10, 6 }, new() { 12, 8 }, new() { 18, 8 }, new() { 22, 10 }, new() { 35, 9 }, new() { 39, 10 }, new() { 43, 9 }, new() { 45, 6 }, },
                [28] = new() { new() { 14, 10 }, new() { 16, 9 }, new() { 20, 8 }, new() { 23, 19 }, new() { 32, 19 }, new() { 41, 8 }, },
                [29] = new() { },
                [30] = new() { },
                [31] = new() { new() { 10, 1 }, new() { 11, 5 }, new() { 15, 2 }, new() { 16, 5 }, new() { 20, 2 }, new() { 21, 5 }, new() { 25, 7 }, new() { 31, 5 }, new() { 35, 2 }, new() { 36, 5 }, new() { 40, 2 }, new() { 41, 5 }, new() { 45, 2 }, },
                [32] = new() { },
                [33] = new() { },
                [34] = new() { },
                [35] = new() { },


            };

            lightFields = new();

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {
                    
                    TerrainTile tTile;

                    if (array[1] > 100)
                    {

                        tTile = new(IconData.tilesheets.graveyard, array[1]-100, new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.offset, true);

                    }
                    else
                    {

                        tTile = new(IconData.tilesheets.graveyard, array[1], new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.offset, array[1] > 7 && array[0] > 27);

                    }

                    if (array[1] == 19)
                    {

                        LightField light = new(new Vector2(array[0], code.Key) * 64 + new Vector2(32));

                        light.luminosity = 6;

                        light.colour = Microsoft.Xna.Framework.Color.LightBlue;

                        light.lightTimer = 1900;

                        lightFields.Add(light);

                    }

                    foreach (Vector2 bottom in tTile.baseTiles)
                    {
                        if (back.Tiles[(int)bottom.X, (int)bottom.Y] != null)
                        {
                            
                            buildings.Tiles[(int)bottom.X, (int)bottom.Y] = new StaticTile(buildings, back.Tiles[(int)bottom.X, (int)bottom.Y].TileSheet, BlendMode.Alpha, back.Tiles[(int)bottom.X, (int)bottom.Y].TileIndex);
                        
                        }

                    }

                    terrainTiles.Add(tTile);

                }

            }            
            
            // candles flowers
            codes = new()
            {
                [0] = new() { },
                [1] = new() { },
                [2] = new() { },
                [3] = new() { new() { 11, 32 }, new() { 12, 34 }, new() { 19, 31 }, new() { 20, 32 }, new() { 21, 33 }, new() { 22, 34 }, new() { 24, 33 }, new() { 31, 33 }, new() { 33, 34 }, new() { 34, 33 }, new() { 35, 31 }, new() { 36, 32 }, new() { 43, 31 }, new() { 44, 34 }, },
                [4] = new() { new() { 11, 34 }, new() { 12, 31 }, new() { 19, 31 }, new() { 20, 34 }, new() { 21, 33 }, new() { 22, 32 }, new() { 24, 32 }, new() { 31, 32 }, new() { 33, 31 }, new() { 34, 34 }, new() { 35, 33 }, new() { 36, 32 }, new() { 43, 34 }, new() { 44, 32 }, },
                [5] = new() { new() { 11, 33 }, new() { 12, 32 }, new() { 19, 33 }, new() { 20, 31 }, new() { 21, 32 }, new() { 22, 33 }, new() { 24, 33 }, new() { 31, 34 }, new() { 33, 32 }, new() { 34, 33 }, new() { 36, 31 }, new() { 43, 32 }, new() { 44, 31 }, },
                [6] = new() { new() { 11, 34 }, new() { 12, 33 }, new() { 20, 33 }, new() { 21, 31 }, new() { 22, 34 }, new() { 23, 31 }, new() { 24, 32 }, new() { 31, 32 }, new() { 32, 33 }, new() { 33, 33 }, new() { 34, 34 }, new() { 35, 32 }, new() { 36, 33 }, new() { 43, 33 }, new() { 44, 34 }, },
                [7] = new() { new() { 11, 33 }, new() { 19, 33 }, new() { 20, 32 }, new() { 22, 32 }, new() { 23, 31 }, new() { 24, 34 }, new() { 31, 31 }, new() { 32, 34 }, new() { 33, 34 }, new() { 35, 34 }, new() { 43, 33 }, new() { 44, 31 }, },
                [8] = new() { new() { 6, 31 }, new() { 7, 31 }, new() { 8, 34 }, new() { 9, 32 }, new() { 10, 33 }, new() { 11, 32 }, new() { 12, 34 }, new() { 20, 33 }, new() { 21, 34 }, new() { 22, 31 }, new() { 23, 33 }, new() { 24, 31 }, new() { 31, 32 }, new() { 32, 33 }, new() { 33, 32 }, new() { 34, 31 }, new() { 35, 33 }, new() { 36, 32 }, new() { 43, 32 }, new() { 44, 34 }, new() { 45, 33 }, new() { 46, 31 }, new() { 47, 32 }, new() { 48, 33 }, new() { 49, 34 }, },
                [9] = new() { new() { 6, 32 }, new() { 7, 33 }, new() { 8, 32 }, new() { 9, 33 }, new() { 10, 34 }, new() { 11, 31 }, new() { 12, 32 }, new() { 19, 31 }, new() { 20, 33 }, new() { 21, 31 }, new() { 23, 32 }, new() { 24, 33 }, new() { 31, 33 }, new() { 32, 34 }, new() { 34, 32 }, new() { 36, 33 }, new() { 43, 32 }, new() { 44, 31 }, new() { 45, 31 }, new() { 46, 34 }, new() { 47, 33 }, new() { 48, 32 }, new() { 49, 32 }, },
                [10] = new() { new() { 6, 31 }, new() { 7, 34 }, new() { 9, 236 }, new() { 11, 33 }, new() { 12, 31 }, new() { 19, 33 }, new() { 20, 31 }, new() { 21, 32 }, new() { 22, 33 }, new() { 23, 34 }, new() { 32, 32 }, new() { 33, 33 }, new() { 34, 34 }, new() { 35, 31 }, new() { 36, 32 }, new() { 39, 35 }, new() { 40, 38 }, new() { 43, 34 }, new() { 44, 33 }, new() { 46, 237 }, new() { 48, 33 }, new() { 49, 31 }, },
                [11] = new() { },
                [12] = new() { new() { 14, 37 }, new() { 22, 38 }, new() { 33, 36 }, new() { 38, 36 }, },
                [13] = new() { },
                [14] = new() { },
                [15] = new() { new() { 7, 35 }, new() { 13, 36 }, new() { 43, 35 }, new() { 47, 38 }, },
                [16] = new() { },
                [17] = new() { new() { 20, 238 }, new() { 35, 237 }, },
                [18] = new() { new() { 9, 37 }, new() { 11, 38 }, new() { 16, 35 }, new() { 19, 36 }, new() { 21, 35 }, new() { 34, 36 }, new() { 42, 36 }, new() { 48, 37 }, },
                [19] = new() { },
                [20] = new() { },
                [21] = new() { },
                [22] = new() { },
                [23] = new() { new() { 9, 35 }, new() { 17, 38 }, new() { 38, 38 }, new() { 43, 36 }, new() { 46, 35 }, },
                [24] = new() { new() { 22, 35 }, new() { 33, 37 }, },
                [25] = new() { },
                [26] = new() { new() { 13, 36 }, new() { 17, 35 }, new() { 34, 35 }, new() { 38, 36 }, new() { 42, 36 }, },
                [27] = new() { },
                [28] = new() { new() { 12, 35 }, new() { 43, 35 }, },
                [29] = new() { new() { 16, 36 }, new() { 20, 35 }, new() { 41, 35 }, },
                [30] = new() { },
                [31] = new() { },
                [32] = new() { },
                [33] = new() { },
                [34] = new() { },
                [35] = new() { },

            };

            foreach (KeyValuePair<int, List<List<int>>> code in codes)
            {

                foreach (List<int> array in code.Value)
                {
                    
                    TerrainTile tTile;

                    int tileKey = array[1];

                    tTile = new(IconData.tilesheets.graveyard, tileKey, new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.offset, array[0] > 27);

                    if (tileKey > 200)
                    {

                        tileKey -= 200;

                        tTile = new(IconData.tilesheets.graveyard, tileKey, new Vector2(array[0], code.Key) * 64, TerrainTile.shadows.offset, true);

                        tTile.layer += 0.0064f;

                    }

                    if (tileKey > 34)
                    {

                        LightField light = new(new Vector2(array[0], code.Key) * 64 + new Vector2(32));

                        light.luminosity = 2;

                        light.colour = Microsoft.Xna.Framework.Color.Goldenrod;

                        candleFields.Add(light);
                    }

                    terrainTiles.Add(tTile);

                }

            }

            addDialogue();

            this.map = newMap;

        }
        public override void addDialogue()
        {
            if (dialogueTiles.Count > 0) { return; }

            dialogueTiles.Add(new(39, 8), CharacterHandle.characters.keeper);

            dialogueTiles.Add(new(39, 9), CharacterHandle.characters.keeper);

            dialogueTiles.Add(new(39, 10), CharacterHandle.characters.keeper);

            dialogueTiles.Add(new(40, 8), CharacterHandle.characters.keeper);

            dialogueTiles.Add(new(40, 9), CharacterHandle.characters.keeper);

            dialogueTiles.Add(new(40, 10), CharacterHandle.characters.keeper);

            // graves

            dialogueTiles.Add(new(15, 10), CharacterHandle.characters.epitaph_prince);

            dialogueTiles.Add(new(16, 10), CharacterHandle.characters.epitaph_prince);

            dialogueTiles.Add(new(9, 11), CharacterHandle.characters.epitaph_isles);

            dialogueTiles.Add(new(46, 11), CharacterHandle.characters.epitaph_knoll);

            dialogueTiles.Add(new(11, 18), CharacterHandle.characters.epitaph_servants_oak);

            dialogueTiles.Add(new(13, 18), CharacterHandle.characters.epitaph_servants_oak);

            dialogueTiles.Add(new(46, 18), CharacterHandle.characters.epitaph_servants_holly); 
            
            dialogueTiles.Add(new(48, 18), CharacterHandle.characters.epitaph_servants_holly);

            dialogueTiles.Add(new(20, 17), CharacterHandle.characters.epitaph_kings_oak);

            dialogueTiles.Add(new(20, 18), CharacterHandle.characters.epitaph_kings_oak);

            dialogueTiles.Add(new(35, 17), CharacterHandle.characters.epitaph_kings_holly);

            dialogueTiles.Add(new(35, 18), CharacterHandle.characters.epitaph_kings_holly);

            dialogueTiles.Add(new(13, 22), CharacterHandle.characters.epitaph_guardian);

            dialogueTiles.Add(new(13, 23), CharacterHandle.characters.epitaph_guardian);

            dialogueTiles.Add(new(42, 22), CharacterHandle.characters.epitaph_dragon);

            dialogueTiles.Add(new(42, 23), CharacterHandle.characters.epitaph_dragon);

        }

        public override void updateWarps()
        {
            //warps.Clear();

            if(warpSets.Count > 0)
            {

                warps.Clear();

                foreach(WarpTile warpSet in warpSets)
                {

                    warps.Add(new Warp(warpSet.enterX, warpSet.enterY, warpSet.location, warpSet.exitX, warpSet.exitY, flipFarmer: false));

                }

                return;

            }

            // top exit

            warpSets.Add(new WarpTile(26, 4, "Town", 47, 88));

            warpSets.Add(new WarpTile(27, 4, "Town", 47, 88));

            warpSets.Add(new WarpTile(28, 4, "Town", 47, 88));

            warpSets.Add(new WarpTile(29, 4, "Town", 47, 88));

            warps.Add(new Warp(26, 4, "Town", 47, 88, flipFarmer: false));

            warps.Add(new Warp(27, 4, "Town", 47, 88, flipFarmer: false));

            warps.Add(new Warp(28, 4, "Town", 47, 88, flipFarmer: false));

            warps.Add(new Warp(29, 4, "Town", 47, 88, flipFarmer: false));

            // bottom exit

            warpSets.Add(new WarpTile(26, 32, "Town", 47, 88));

            warpSets.Add(new WarpTile(27, 32, "Town", 47, 88));

            warpSets.Add(new WarpTile(28, 32, "Town", 47, 88));

            warpSets.Add(new WarpTile(29, 32, "Town", 47, 88));
            
            warps.Add(new Warp(26, 32, "Town", 47, 88, flipFarmer: false));

            warps.Add(new Warp(27, 32, "Town", 47, 88, flipFarmer: false));

            warps.Add(new Warp(28, 32, "Town", 47, 88, flipFarmer: false));

            warps.Add(new Warp(29, 32, "Town", 47, 88, flipFarmer: false));

        }

    }

}
